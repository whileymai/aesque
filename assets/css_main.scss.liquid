/*============================================================================

  KrownThemes Split
  v2.4.0
  Copyright 2017 Krown Themes

==============================================================================*/

/*============================================================================
  Table of Contents

  #General Variables
  #Sass Mixins
  #Normalize
  #Grid Setup
  #Basic Styles

  #Site Header
  #Site Footer
  #Elements

  #Helper Classes
  #Typography
  #Rich Text Editor
  #Links and Buttons
  #Lists
  #Tables
  #Reponsive Tables
  #OOCSS Media Object
  #Images and Iframes
  #Forms
  #Icons
  #Pagination
  #Site Header
  #Site Nav and Dropdowns
  #Mobile Nav
  #Drawers
  #Site Footer
  #Product and Collection Grids
  #Collection Filters
  #Breadcrumbs
  #Product Page
  #Notes and Form Feedback
  #Cart Page
  #Ajax Cart Styles

==============================================================================*/

/*============================================================================
  #General Variables
==============================================================================*/ 


@function color-control($color) {
  @if (lightness( $color ) > 60) {
    @return #000;
  }
  @else {
    @return #fff;
  }
}

$logoColor: {{ settings.type_body }};

$bodyBg: {{ settings.page_bg }};
$bodyBgSecond: darken( $bodyBg, 4% );
$bodyBgThird: darken( $bodyBg, 7% );

$textMain: {{ settings.type_body }};

$buttonBg: $textMain;
$buttonTxt: color-control($textMain);

$bodyAcc: {{ settings.type_links }};
$bodyAccTxt: color-control($bodyAcc);

$footerTxt: {{ settings.page_bg }};

/*============================================================================
  #Fonts
==============================================================================*/ 

// Headings

{{ settings.typography_headings_new | font_face: font_display: 'swap' }}

{% assign header_font = settings.typography_headings_new %}
$font-stack-header: {{ header_font.family }}, {{ header_font.fallback_families }};
$font-weight-header: {{ header_font.weight }};
$font-style-header: {{ header_font.style }};

@mixin font-head(){
  font-family: $font-stack-header;
  font-weight: $font-weight-header;
  font-style: $font-style-header;
}

// Body (main)

{% assign body_font = settings.typography_body_new %}
{{ body_font | font_face: font_display: 'swap' }}

$font-stack-body: {{ body_font.family }}, {{ body_font.fallback_families }};
$font-weight-body: {{ body_font.weight }};
$font-style-body: {{ body_font.style }};

{%- assign body_font_bold = body_font | font_modify: 'weight', 'bolder' -%}
{%- assign body_font_italic = body_font | font_modify: 'style', 'italic' -%}
{%- assign body_font_bold_italic = body_font_bold | font_modify: 'style', 'italic' -%}

$bodyFontBoldWeight: 700;
{%- if body_font_bold -%}
  {{ body_font_bold | font_face: font_display: 'swap' }}
  $bodyFontBoldWeight: {{ body_font_bold.weight }}; 
{%- endif -%}

{%- if body_font_italic -%}
  {{ body_font_italic | font_face: font_display: 'swap' }}
{% endif %}

{%- if body_font_bold_italic -%}
  {{ body_font_bold_italic | font_face: font_display: 'swap' }}
{%- endif -%}

@mixin font-body(){
  font-family: $font-stack-body;
  font-weight: $font-weight-body;
  font-style: $font-style-body;
}

// Logo & menus

{% assign menu_font = settings.typography_menus_new %}
{{ menu_font | font_face: font_display: 'swap' }}

$font-stack-menu: {{ menu_font.family }}, {{ menu_font.fallback_families }};
$font-weight-menu: {{ menu_font.weight }};
$font-style-menu: {{ menu_font.style }};

$menuFontRegularWeight: {{ menu_font.weight }};

{% assign menu_font_bold = menu_font | font_modify: 'weight', '600' %}

$menuFontBoldWeight: 600;
{% if menu_font_bold %}
  {{ menu_font_bold | font_face: font_display: 'swap' }}
{% else -%}
  {% assign menu_font_bold = menu_font | font_modify: 'weight', 'bolder' %}
  {{ menu_font_bold | font_face: font_display: 'swap' }}
{% endif %}
{% if menu_font_bold %}
  $menuFontBoldWeight: {{ menu_font_bold.weight }}; 
{% endif %}

@mixin font-menu(){
  font-family: $font-stack-menu;
  font-weight: $font-weight-menu;
  font-style: $font-style-menu;
}

// Special

{{ settings.typography_quote_new | font_face: font_display: 'swap' }}

{% assign quote_font = settings.typography_quote_new %}
$font-stack-quote: {{ quote_font.family }}, {{ quote_font.fallback_families }};
$font-weight-quote: {{ quote_font.weight }};
$font-style-quote: {{ quote_font.style }};

$quoteFontRegularStyle: {{ quote_font.style }};
{% if quote_font.style == 'italic' %}
  {%- assign quote_font_normal = quote_font | font_modify: 'style', 'normal' -%}
  {{ quote_font_normal | font_face: font_display: 'swap' }}
  $quoteFontRegularStyle: normal;
{% endif %}

@mixin font-quote(){
  font-family: $font-stack-quote;
  font-weight: $font-weight-quote;
  font-style: $font-style-quote;
}

/*============================================================================
  #Sass Mixins
==============================================================================*/

$baseFontSize: 16px; // Henceforth known as 1rem

.clearfix {
  &:after {
    content: '';
    display: table;
    clear: both; }
  *zoom: 1;
}

@mixin clearfix() {
  &:after {
    content: '';
    display: table;
    clear: both; }
  *zoom: 1;
}

@mixin bg() {
  background-position: center;
  background-size: cover;
  background-repeat: no-repeat;
}

@mixin prefixer($property, $value, $prefixes) {
  @each $prefix in $prefixes {
    @if $prefix == webkit {
      -webkit-#{$property}: $value;
    } @else if $prefix == moz {
      -moz-#{$property}: $value;
    } @else if $prefix == ms {
      -ms-#{$property}: $value;
    } @else if $prefix == o {
      -o-#{$property}: $value;
    } @else if $prefix == spec {
      #{$property}: $value;
    } @else  {
      @warn "Unrecognized prefix: #{$prefix}";
    }
  }
}

@mixin transform($transform) {
  @include prefixer(transform, $transform, ms webkit spec);
}

@mixin user-select($value: none) {
  @include prefixer(user-select, $value, webkit moz ms spec);
}

@mixin backface($visibility: hidden) {
  @include prefixer(backface-visibility, $visibility, webkit spec);
}

@mixin input-placeholder {
  &.placeholder { @content; }
  &:-moz-placeholder { @content; }
  &::-moz-placeholder { @content; }
  &:-ms-input-placeholder { @content; }
  &::-webkit-input-placeholder { @content; } 
}

@mixin underline-link($color, $size) {

  text-decoration: none;

  > * { 
    display: inline;
    width: 100%;
    height: 100%;
    background-image: linear-gradient($color, $color);
    background-position: 0 100%;
    background-size: 0 6px;
    background-repeat: no-repeat;
    transition: all 200ms linear;
  }

  &:hover > *, &.active > * {
    background-size: 100% 6px;
  }

  @if $size == small {
  
    & > * {
      background-size: 0 3px;
      background-position: 0 100%;
      transition: all 200ms linear;
      padding-bottom: 2px;
    }
    &:hover > *, &.active > *  {
      background-size: 100% 3px;
    }

  } @else if $size == smaller {
  
    & > * {
      background-size: 0 2px;
      background-position: 0 100%;
      transition: all 200ms linear;
      padding-bottom: 4px;
    }
    &:hover > *, &.active > *  {
      background-size: 100% 2px;
    }
  
  }

}

.underline-link {
  @include underline-link($bodyAcc, small);
  color: $textMain !important;
}

@mixin sidebar-transition($property) {
  transition: #{$property} 500ms $easeInOutQuad;
  @include at-query($max, $portable) {
    transition: #{$property} 250ms linear;
  }
}

@function rem($target, $context: $baseFontSize) {
  @if $target == 0 {
    @return 0;
  }
  @return $target / $context + 0rem;
}

$palm: 480px;
$lap: 768px;
$portable: 1024px;
$desk: 1367px;

$min: min-width;
$max: max-width;
@mixin at-query ($constraint_, $viewport1_, $viewport2_:null) {

 $constraint: $constraint_; $viewport1: $viewport1_; $viewport2: $viewport2_;
  @if type-of($constraint_) == number {
    $viewport1 : $constraint_; $viewport2 : $viewport1_; $constraint : null;
  }
  
  @if $viewport1 == $lap {

    @if $constraint == $min {
      @media screen and ($min: $viewport1) {
        @content;
      } 
    } @else if $constraint == $max {
      @media screen and ($max: $viewport1), screen and ($max: $portable) and (orientation: portrait) {
        @content;
      }
    } @else {
      @media screen and ($min: $viewport1) and ($max: $viewport2) {
        @content;
      }
    }

  } @else {

    @if $constraint == $min {
      @if $viewport1 == $lap+1 {
          @media screen and ($min: $viewport1) and (orientation: landscape) {
            @content;
          }
        } @else {
          @media screen and ($min: $viewport1) {
            @content;
          }
        }
    } @else if $constraint == $max {
      @media screen and ($max: $viewport1) {
        @content;
      }
    } @else {
      @media screen and ($min: $viewport1) and ($max: $viewport2) and (orientation: landscape) {
        @content;
      }
    }

  }

 

}


// Easings

$easeInSine: cubic-bezier(0.47, 0, 0.745, 0.715);
$easeOutSine: cubic-bezier(0.39, 0.575, 0.565, 1);
$easeInOutSine: cubic-bezier(0.39, 0.575, 0.565, 1);

$easeInQuad: cubic-bezier(0.55, 0.085, 0.68, 0.53);
$easeOutQuad: cubic-bezier(0.25, 0.46, 0.45, 0.94);
$easeInOutQuad: cubic-bezier(0.25, 0.46, 0.45, 0.94);

$easeInCubic: cubic-bezier(0.55, 0.055, 0.675, 0.19);
$easeOutCubic: cubic-bezier(0.215, 0.61, 0.355, 1);
$easeInOutCubic: cubic-bezier(0.215, 0.61, 0.355, 1);

$easeInQuart: cubic-bezier(0.895, 0.03, 0.685, 0.22);
$easeOutQuart: cubic-bezier(0.165, 0.84, 0.44, 1);
$easeInOutQuart: cubic-bezier(0.165, 0.84, 0.44, 1);

$easeInQuint: cubic-bezier(0.755, 0.05, 0.855, 0.06);
$easeOutQuint: cubic-bezier(0.23, 1, 0.32, 1);
$easeInOutQuint: cubic-bezier(0.23, 1, 0.32, 1);

$easeInExpo: cubic-bezier(0.95, 0.05, 0.795, 0.035);
$easeOutExpo: cubic-bezier(0.19, 1, 0.22, 1);
$easeInOutExpo: cubic-bezier(0.19, 1, 0.22, 1);

$easeInCirc: cubic-bezier(0.6, 0.04, 0.98, 0.335);
$easeOutCirc: cubic-bezier(0.075, 0.82, 0.165, 1);
$easeInOutCirc: cubic-bezier(0.075, 0.82, 0.165, 1);

$easeInBack: cubic-bezier(0.6, -0.28, 0.735, 0.045);
$easeOutBack: cubic-bezier(0.175, 0.885, 0.32, 1.275);
$easeInOutBack: cubic-bezier(0.68, -0.55, 0.265, 1.55);

$easeInOutFast: cubic-bezier(1,0,0,1);

$authenticMotion: cubic-bezier(.4,0,.2,1);

/*============================================================================
  #Normalize
==============================================================================*/

*, input, :before, :after {
  box-sizing: border-box;
}

audio, canvas, progress, video {
  display: inline-block;
  vertical-align: baseline;
}

input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  height: auto;
}
input[type=number] {
  -moz-appearance:textfield;
}

input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-decoration {
  -webkit-appearance: none;
}
input[type="search"]::-ms-clear {
  display: none;
}

html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed, 
figure, figcaption, footer, header, hgroup, 
menu, nav, output, ruby, section, summary,
time, mark, audio, video, button {
  margin: 0;
  padding: 0;
  border: 0;
  font-size: 100%;
  font: inherit;
  vertical-align: baseline;
}
article, aside, details, figcaption, figure, 
footer, header, hgroup, menu, nav, section {
  display: block;
}
body {
  line-height: 1;
}
ol, ul {
  list-style: none;
}
blockquote, q {
  quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
  content: '';
  content: none;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
}
a {
  text-decoration: none;
}
button {
  background: transparent;
  border: none;
  box-shadow: none;
  cursor: pointer;
}
a, button, input {
  &:hover, &:focus {
    outline: none !important;
  }
}



// THIRD PARTIES
/*! Flickity v2.0.5
http://flickity.metafizzy.co
---------------------------------------------- */
.flickity-enabled{position:relative}.flickity-enabled:focus{outline:0}.flickity-viewport{overflow:hidden;position:relative;height:100%}.flickity-slider{position:absolute;width:100%;height:100%}.flickity-enabled.is-draggable{-webkit-tap-highlight-color:transparent;tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.flickity-enabled.is-draggable .flickity-viewport{cursor:move;cursor:-webkit-grab;cursor:grab}.flickity-enabled.is-draggable .flickity-viewport.is-pointer-down{cursor:-webkit-grabbing;cursor:grabbing}.flickity-prev-next-button{position:absolute;top:50%;width:44px;height:44px;border:none;border-radius:50%;background:#fff;background:hsla(0,0%,100%,.75);cursor:pointer;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.flickity-prev-next-button:hover{background:#fff}.flickity-prev-next-button:focus{outline:0;box-shadow:0 0 0 5px #09F}.flickity-prev-next-button:active{opacity:.6}.flickity-prev-next-button.previous{left:10px}.flickity-prev-next-button.next{right:10px}.flickity-rtl .flickity-prev-next-button.previous{left:auto;right:10px}.flickity-rtl .flickity-prev-next-button.next{right:auto;left:10px}.flickity-prev-next-button:disabled{opacity:.3;cursor:auto}.flickity-prev-next-button svg{position:absolute;left:20%;top:20%;width:60%;height:60%}.flickity-prev-next-button .arrow{fill:#333}.flickity-page-dots{position:absolute;width:100%;bottom:-25px;padding:0;margin:0;list-style:none;text-align:center;line-height:1}.flickity-rtl .flickity-page-dots{direction:rtl}.flickity-page-dots .dot{display:inline-block;width:10px;height:10px;margin:0 8px;background:#333;border-radius:50%;opacity:.25;cursor:pointer}.flickity-page-dots .dot.is-selected{opacity:1}

@include at-query($min, $lap+1) {
  .box__product-gallery .flickity-viewport {
    height: 100% !important;
  }
}

.mfp-bg,.mfp-wrap{left:0;top:0;position:fixed}.mfp-bg,.mfp-container,.mfp-wrap{width:100%;height:100%}.mfp-container:before,.mfp-figure:after{content:''}.mfp-bg{z-index:1042;overflow:hidden;background:#0b0b0b;opacity:.8;filter:alpha(opacity=80)}.mfp-wrap{z-index:1043;outline:0!important;-webkit-backface-visibility:hidden}.mfp-container{text-align:center;position:absolute;left:0;top:0;padding:0 8px;box-sizing:border-box}.mfp-container,img.mfp-img{-webkit-box-sizing:border-box;-moz-box-sizing:border-box}.mfp-container:before{display:inline-block;height:100%;vertical-align:middle}.mfp-align-top .mfp-container:before{display:none}.mfp-content{position:relative;display:inline-block;vertical-align:middle;margin:0 auto;text-align:left;z-index:1045}.mfp-ajax-holder .mfp-content,.mfp-inline-holder .mfp-content{width:100%;cursor:auto}.mfp-ajax-cur{cursor:progress}.mfp-zoom-out-cur,.mfp-zoom-out-cur .mfp-image-holder .mfp-close{cursor:-moz-zoom-out;cursor:-webkit-zoom-out;cursor:zoom-out}.mfp-zoom{cursor:pointer;cursor:-webkit-zoom-in;cursor:-moz-zoom-in;cursor:zoom-in}.mfp-auto-cursor .mfp-content{cursor:auto}.mfp-arrow,.mfp-close,.mfp-counter,.mfp-preloader{-webkit-user-select:none;-moz-user-select:none;user-select:none}.mfp-loading.mfp-figure{display:none}.mfp-hide{display:none!important}.mfp-preloader{color:#CCC;position:absolute;top:50%;width:auto;text-align:center;margin-top:-.8em;left:8px;right:8px;z-index:1044}.mfp-preloader a{color:#CCC}.mfp-close,.mfp-preloader a:hover{color:#FFF}.mfp-s-error .mfp-content,.mfp-s-ready .mfp-preloader{display:none}button.mfp-arrow,button.mfp-close{overflow:visible;cursor:pointer;background:0 0;border:0;-webkit-appearance:none;display:block;outline:0;padding:0;z-index:1046;-webkit-box-shadow:none;box-shadow:none}.mfp-figure:after,.mfp-iframe-scaler iframe{position:absolute;left:0;box-shadow:0 0 8px rgba(0,0,0,.6)}button::-moz-focus-inner{padding:0;border:0}.mfp-close{width:44px;height:44px;line-height:44px;position:absolute;right:0;top:0;text-decoration:none;text-align:center;opacity:.65;filter:alpha(opacity=65);padding:0 0 18px 10px;font-style:normal;font-size:28px;font-family:Arial,Baskerville,monospace}.mfp-close:focus,.mfp-close:hover{opacity:1;filter:alpha(opacity=100)}.mfp-close:active{top:1px}.mfp-close-btn-in .mfp-close{color:#333}.mfp-iframe-holder .mfp-close,.mfp-image-holder .mfp-close{color:#FFF;right:-6px;text-align:right;padding-right:6px;width:100%}.mfp-counter{position:absolute;top:0;right:0;color:#CCC;font-size:12px;line-height:18px;white-space:nowrap}.mfp-figure,img.mfp-img{line-height:0}.mfp-arrow{position:absolute;opacity:.65;filter:alpha(opacity=65);margin:-55px 0 0;top:50%;padding:0;width:90px;height:110px;-webkit-tap-highlight-color:transparent}.mfp-arrow:active{margin-top:-54px}.mfp-arrow:focus,.mfp-arrow:hover{opacity:1;filter:alpha(opacity=100)}.mfp-arrow .mfp-a,.mfp-arrow .mfp-b,.mfp-arrow:after,.mfp-arrow:before{content:'';display:block;width:0;height:0;position:absolute;left:0;top:0;margin-top:35px;margin-left:35px;border:inset transparent}.mfp-arrow .mfp-a,.mfp-arrow:after{border-top-width:13px;border-bottom-width:13px;top:8px}.mfp-arrow .mfp-b,.mfp-arrow:before{border-top-width:21px;border-bottom-width:21px;opacity:.7}.mfp-arrow-left{left:0}.mfp-arrow-left .mfp-a,.mfp-arrow-left:after{border-right:17px solid #FFF;margin-left:31px}.mfp-arrow-left .mfp-b,.mfp-arrow-left:before{margin-left:25px;border-right:27px solid #3F3F3F}.mfp-arrow-right{right:0}.mfp-arrow-right .mfp-a,.mfp-arrow-right:after{border-left:17px solid #FFF;margin-left:39px}.mfp-arrow-right .mfp-b,.mfp-arrow-right:before{border-left:27px solid #3F3F3F}.mfp-iframe-holder{padding-top:40px;padding-bottom:40px}.mfp-iframe-holder .mfp-content{line-height:0;width:100%;max-width:900px}.mfp-image-holder .mfp-content,img.mfp-img{max-width:100%}.mfp-iframe-holder .mfp-close{top:-40px}.mfp-iframe-scaler{width:100%;height:0;overflow:hidden;padding-top:56.25%}.mfp-iframe-scaler iframe{display:block;top:0;width:100%;height:100%;background:#000}.mfp-figure:after,img.mfp-img{display:block;width:auto;height:auto}img.mfp-img{box-sizing:border-box;padding:40px 0;margin:0 auto}.mfp-figure:after{top:40px;bottom:40px;right:0;z-index:-1;background:#444}.mfp-figure small{color:#BDBDBD;display:block;font-size:12px;line-height:14px}.mfp-figure figure{margin:0}.mfp-bottom-bar{margin-top:-36px;position:absolute;top:100%;left:0;width:100%;cursor:auto}.mfp-title{text-align:left;line-height:18px;color:#F3F3F3;word-wrap:break-word;padding-right:36px}.mfp-gallery .mfp-image-holder .mfp-figure{cursor:pointer}@media screen and (max-width:800px) and (orientation:landscape),screen and (max-height:300px){.mfp-img-mobile .mfp-image-holder{padding-left:0;padding-right:0}.mfp-img-mobile img.mfp-img{padding:0}.mfp-img-mobile .mfp-figure:after{top:0;bottom:0}.mfp-img-mobile .mfp-figure small{display:inline;margin-left:5px}.mfp-img-mobile .mfp-bottom-bar{background:rgba(0,0,0,.6);bottom:0;margin:0;top:auto;padding:3px 5px;position:fixed;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.mfp-img-mobile .mfp-bottom-bar:empty{padding:0}.mfp-img-mobile .mfp-counter{right:5px;top:3px}.mfp-img-mobile .mfp-close{top:0;right:0;width:35px;height:35px;line-height:35px;background:rgba(0,0,0,.6);position:fixed;text-align:center;padding:0}}@media all and (max-width:900px){.mfp-arrow{-webkit-transform:scale(.75);transform:scale(.75)}.mfp-arrow-left{-webkit-transform-origin:0;transform-origin:0}.mfp-arrow-right{-webkit-transform-origin:100%;transform-origin:100%}.mfp-container{padding-left:6px;padding-right:6px}}.mfp-ie7 .mfp-img{padding:0}.mfp-ie7 .mfp-bottom-bar{width:600px;left:50%;margin-left:-300px;margin-top:5px;padding-bottom:5px}.mfp-ie7 .mfp-container{padding:0}.mfp-ie7 .mfp-content{padding-top:44px}.mfp-ie7 .mfp-close{top:0;right:0;padding-top:0}

.mfp-bg {
  z-index: 99990;
}
.mfp-wrap {
  z-index: 99991;
}

/*============================================================================
  #Basic Styles
==============================================================================*/

.hide {
  display: none;
}

html:after {
  position: fixed;
  top: 0;
  right: 0;
  width: 1px;
  height: 100%;
  background: $bodyBg;
  z-index: 9;
  //content: "";
}

body {

  @include font-body();
  font-size: rem(15px);
  line-height: 1.7;
  color: $textMain;
  background: $bodyBg;
  -moz-osx-font-smoothing: grayscale;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  position: relative;
  right: 0;
  overflow-x: hidden;
  @include sidebar-transition(right);

  &.sidebar-move {
    overflow: hidden;
    right: 480px;
    @include at-query($max, '640px') {
      right: 320px;
    }
  }

  &.desktop--leave-padding-alone {
    @include at-query($min, $portable+1) {
      padding-top: 0 !important;
    }
  }

  &.kill-overflow {
    overflow: hidden;
  }

}

h1, h2, h3, h4, h5, h6 {
  @include font-head();
  line-height: 1.55;
  display: block;
}

.rte, .template- #main {

  h1 {
    font-size: rem(32px);
    margin-bottom: 40px;
  }
  h2 {
    font-size: rem(24px);
    margin-bottom: 34px;
  }
  h3 {
    font-size: rem(20px);
    margin-bottom: 30px;
  }
  h4 {
    font-size: rem(17px);
    margin-bottom: 27px;
  }
  h5, h6 {
    font-size: rem(15px);
    margin-bottom: 15px;
    opacity: .66;
  }

  blockquote {
    @include font-quote();
    font-size: rem(24px);
    margin-bottom: 14px;
    display: block;
  }

  ul, ol {
    padding-left: 17px;
    margin-bottom: 24px;
    li {
      margin-bottom: 12px;
    }
  }
  ul:not(.no-bullets) {
    list-style: disc;
    ul {
      list-style: circle;
      ul {
        list-style: square;
      }
    }
  }
  ol:not(.no-bullets) {
    list-style: decimal;
    ol {
      list-style: lower-roman;
      ol {
        list-style: lower-alpha;
      }
    }
  }

  img {
    margin-bottom: 24px;
    vertical-align: middle;
  }
  
  &.dark {
    color: #fff;
  }
  @include at-query($max, $lap) {
    &.lap--dark {
      color: #fff;
    }
  }

  table {

    width: 100%;
    border: 1px solid $bodyBgThird;
    text-align: left;

    thead {
      td:not(:empty), th:not(:empty) {
        background: $bodyBgSecond;
        text-transform: uppercase;
        font-size: rem(12px);
      }
    }

    p {
      margin: 0;
    }


  }
  table tr {
    border-top: 1px solid $bodyBgThird;
  }
  table thead tr {
    border-top: none;
  }
  table th, table td {
    min-height: 41px;
    padding: 10px 14px 8px;
    border-right: 1px solid $bodyBgThird;
  }

  a {
    border-bottom: 1px dotted;
  }

}

.simple-title {

  text-transform: uppercase;
  margin-bottom: 50px;

  &:after {
    content: "";
    display: block;
    margin-top: 25px;
    width: 30px;
    height: 3px;
    background: $textMain;
  }

}

p {
  margin-bottom: 24px;
}

svg * {
  transition: opacity 150ms linear, fill 150ms linear, stroke 150ms linear;
}
a {
  color: $textMain;
  &:hover, &.hover {
    color: $bodyAcc;
  }
  transition: opacity 150ms linear, color 150ms linear, background 150ms linear;
}

img {
  max-width: 100%;
  height: auto;
}
iframe {
  max-width: 100%;
}

strong {
  font-weight: $bodyFontBoldWeight;
}
em {
  font-style: italic;
}

// inputs

input {

  height: 55px;
  @include font-body();
  font-size: rem(15px);
  padding: 0 20px;
  margin: 0;
  display: inline-block;
  border-radius: 0;
  -webkit-appearance: none;
  border: 1px solid transparent;
  background: $bodyBgThird;
  color: $textMain;

  @include input-placeholder() {
    color: rgba($textMain, .66);
  }

  transition: all 150ms linear;

  .grid__item &:not([type="submit"]) {
    width: 100%;
  }

  &:-webkit-autofill {
    box-shadow: 0 0 0px 1000px $bodyBgThird inset;
    background: $bodyBgThird;
    color: $textMain;
  }
  
  &:focus {
    background: darken( $bodyBg, 3% );
  }
  .simple-grid &:focus {
    background: $bodyBg;
    border-color: $bodyBgThird;
  }

}
textarea {

  border-radius: 0;
  -webkit-appearance: none;
  background: $bodyBgThird;
  resize: none;
  color: $textMain;
  font-size: rem(15px);
  padding: 20px;
  outline: none;
  width: 100%;
  height: 130px;
  @include font-body();
  border: 1px solid transparent;
  transition: all 150ms linear;

  @include input-placeholder() {
    color: rgba($textMain, .66);
  }

  &:-webkit-autofill {
    box-shadow: 0 0 0px 1000px $bodyBgThird inset;
    background: $bodyBgThird;
    color: $textMain;
  }

  &:focus {
    background: darken( $bodyBg, 3% );
  }
  .simple-grid &:focus {
    background: $bodyBg;
    border-color: $bodyBgThird;
  }

}
input[type="submit"], .button {

  background: $buttonBg;
  @include font-body();
  color: $buttonTxt !important;
  border: 2px solid transparent;
  font-size: rem(13px);
  font-weight: $bodyFontBoldWeight;
  text-transform: uppercase;
  padding: 0 30px;
  position: relative;
  top: -1px;
  transition: all 150ms linear;
  cursor: pointer;

  height: 55px;
  margin: 0;
  display: inline-block;
  line-height: 53px;
  border-radius: 0;
  -webkit-appearance: none;

  &.light {
    color: #fff !important;
    background: #000;
  }
  &.dark {
    color: #000 !important;
    background: #fff;
  }
  &:hover, &.hover {
    background: $bodyAcc !important;
    color: $buttonTxt !important;
  }
}
input[type="submit"] {
  top: -3px;
  border: 1px solid transparent;
}
.button {

  .icon {

    width: 0;
    height: 100%;
    display: block;
    text-align: right;
    position: absolute;
    right: 40px;
    top: 0;
    opacity: 0;
    transition: all 150ms linear;

    svg {    
      position: absolute;
      top: 50%;
      left: 0;
      margin-top: -5px;
    }

  }

  svg * {
    fill: $buttonTxt !important;
  }
  &.light svg * {
    fill: #fff !important;
  }
  &.dark svg *, &.outline svg * {
    fill: $buttonBg !important;
  }
  &:hover svg *, &.hover svg * {
    fill: $buttonTxt !important;
  }

  .no-touchevents &.with-icon:hover, .no-touchevents &.with-icon.hover {
    padding-right: 60px;
    .icon {    
      opacity: 1;
      right: 15px;
      width: 31px;
    }
  }

  &.less-padding {
    padding: 0 12px;
    line-height: 51px;
  }

  &.outline:not(:hover), &.outline:not(.hover) {
    background: transparent;
    border: 2px solid $buttonBg;
  }
  &.outline:hover, &.outline.hover {
    border: 2px solid transparent;
  }

  &.disabled {
    pointer-events: none;
    opacity: .32;
  }

  @include at-query($max, $palm) {
    &:not([name="update"]) {
      height: 48px;
      line-height: 46px;
      padding: 0 20px;
      margin-top: 30px !important;
      font-size: rem(12px);
    }
  }

}
input[type="number"] {
  padding: 0 !important;
}


input[type="checkbox"],
input[type="radio"] {
  width: 20px !important;
  height: 20px;
  padding: 0;
  margin-right: 9px;
  position: relative;
  top: 5px;
  &:checked {
    background: $bodyAcc;
  }
}


// basic typography 

/*============================================================================
  #Grid Setupx
==============================================================================*/

.site-box-container {

  width: 100%;
  position: relative;
  @extend .clearfix;

  &.container--fullscreen {
    //height: 100vh;
  }

  &.add-border {
    border-bottom: 1px solid $bodyBgThird;
  }

}


@mixin grid-item($namespace:"") {

  $prefix: '.' + $namespace;

  #{$prefix}box--small { 
    width: 25%;
    height: 50vh !important; 
    min-height: 0 !important;
  }
  #{$prefix}box--small-lg { 
    width: 50%;
    height: 50vh !important;
    min-height: 0 !important;
  }
  #{$prefix}box--small-fl { 
    width: 100%;
    height: 50vh !important;
    min-height: 0 !important;
  }
  #{$prefix}box--big {
    width: 50%;
    min-height: 100vh;
  }
  #{$prefix}box--bigger {
    width: 100%;
    min-height: 100vh;
    @if $namespace == 'lap--' {
      min-height: 0 !important;
      height: auto !important;
      position: relative !important;
      margin-left: 0 !important;
    }
  }

}

@include grid-item();
@include at-query($max, $portable) {
  @include grid-item('portable--');
}
@include at-query($max, $lap) {
  @include grid-item('lap--');
}
@include at-query($max, $palm) {
  @include grid-item('palm--');
}

@mixin hide-on-size($namespace:"") {
  $prefix: '.' + $namespace;
  #{$prefix}hide {
    display: none !important;
  }
  #{$prefix}show {
    display: flex;
    .ie9 & {
      display: block;
    }
  }
}

@include at-query($max, $portable) {
  @include hide-on-size('portable--');
}
@include at-query($max, $lap) {
  @include hide-on-size('lap--');
}

@include at-query($max, $palm) {
  @include hide-on-size('palm--');
}

@mixin i-hate-ie() {
  &.box--big, &.box--bigger {
    height: 100vh;
  }
}

// Animation

html {

  .shopify-section:not(.mount-slideshow) .site-box {
    
    .site-box-background {
      opacity: 0;
      transition: transform 300ms cubic-bezier(0.39, 0.575, 0.565, 1), background 200ms linear, opacity 400ms linear; 
    }
    .site-box-content {
      transform: translateY(50px);
      opacity: 0;
    }
    .site-box-content {
      transition: opacity 300ms linear, transform 300ms linear; 
    }

    &.active {
      .site-box-background {
        opacity: 1;
      }
      .site-box-background.onboard {
      }
      .site-box-content {
        transform: translateY(0);
        opacity: 1;
      }
    }

  }
  
  .shopify-section.mount-slideshow .slideshow-item:first-child .site-box {

    .site-box-content {
      transform: translateY(50px);
      opacity: 0;
    }
    .site-box-content {
      transition: opacity 400ms linear 100ms, transform 400ms linear 100ms; 
    }

    &.active .site-box-content {
      transform: translateY(0);
      opacity: 1;
    }

  }

}

.site-box {

  // sticky ?!
  
  @include at-query($min, $lap+1) {
    .box--can-stick &:not(.box__product-gallery)[data-order="0"] {
      position: -webkit-sticky;
      position: sticky;
      top: 0;
     // border-bottom: 0 !important;
    }
  }

  // normal

  display: flex;
  position: relative;
  float: left;
  overflow: hidden;

  // #i-hate-ie
  &:not(.box__testimonial):not(.box__twitter):not(.box__instagram) {
    align-items: center;
  }

  background-color: $bodyBg;
  .template-index .shopify-section:nth-child(2n+1) &:not(.box__product-gallery) {
    background-color: $bodyBgSecond;
  }

  .shopify-section:not(.mount-slideshow) & {
    border-right: 1px solid $bodyBgThird;
    border-bottom: 1px solid $bodyBgThird;
  }
  .shopify-section:not(.mount-slideshow):not(.mount-testimonials):not(.mount-products) > &:nth-child(even), .product--section > &:nth-child(even), .template-page &:nth-child(even), .template-article &:nth-child(even), .template-page-contact &:nth-child(even) {
    border-right: none;
  }

  // Box design options

  &.box--no-padding {
    .site-box-content {
      width: 100%;
    }
  }
  &.box--small.box--no-padding {
    .site-box-content {
      height: 100%;
    }
  }

  @include at-query($min, $lap+1) {
    &.box--fix-at-fifthy {
      position: absolute;
      top: 50%;
    }
  }

  &.box--center-align {
    justify-content: center;
  }
  &.box--top-align {
    justify-content: flex-start;
  }
  &.box--column-flow {
    flex-direction: column;
  }

  &.box--image-show-half {
    .site-box-content {

    }
  }

  .site-box-background {

    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    transition: background 200ms linear;
    @include bg();

    img {
      height: 100%;
      width: 100%;
      object-fit: cover;
      font-family: "object-fit: cover";
      transition: opacity 150ms linear;
      opacity: 0;
      transform: translate3d(0,0,0);
      &.lazyloaded {
        opacity: 1;
      }
    }

    .fixing-scroll-now &:not(.with-map) {
      @include sidebar-transition(left);
      &.sidebar-move {
        left: -480px;
        @include at-query($max, '640px') {
          left: -320px;
        }
      }
    }
  
    &.with-image:after {   
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: black;
      opacity: .4;
      transition: opacity 200ms linear, background 200ms linear;
    }

  }

  // Different box types

  // Twitter

  &.box__twitter {

    padding: 0;
    position: relative;
    display: flex;
    transition: all 200ms linear;

    @include at-query($max, $lap) {
      font-size: rem(12px);
    }

    &:hover, &.hover {
      background: darken($bodyBg, 2%);
    }

    .site-box-content {

      margin: auto;
      height: 100%;
      padding: 0 10%;
      display: flex;
      text-align: center;
      flex-direction: column;
      justify-content: space-around;

      > a {
        opacity: .66;
      }

    }

    p {
      text-align: center;
      margin: 0;
      word-break: break-word;
      a {
        font-weight: $bodyFontBoldWeight;
      }
    }

    .icon {
      opacity: .12;
      width: 42px;
      height: 42px;
      display: block;
      margin: 0 auto -12px;
      path {
        fill: $textMain;
      }
    }


  }

  // Instagram

  &.box__instagram {

    @include at-query($max, $lap) {
      font-size: rem(12px);
    }
  
    .site-box-content {

      width: 100%;
      height: 100%;
      position: relative;
      @include bg();

      &:before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: #000;
        opacity: 0;
        transition: opacity 150ms linear;
      }

    }

    .icon, .icon svg {
      width: 32px !important;
      height: 32px !important; 
    }
    .icon {
      margin: 0 auto;
    }

    a {

      position: absolute;
      width: 100%;
      height: 100%;
      display: flex;
      left: 0;
      top: 0;
      text-align: center;
      text-align: center;
      flex-direction: column;
      justify-content: space-around;
      color: #fff;

      .child {

        opacity: 0;
        transform: translateY(15px);

        &:nth-child(1) {
          transition: all 150ms $easeInOutSine;
        }
        &:nth-child(2) {
          transition: all 150ms $easeInOutSine 50ms;
        }
        &:nth-child(3) {
          transition: all 150ms $easeInOutSine 100ms;
        }

      }

    }

    .caption {
      padding: 0 10%;
      margin: 0;
    }

    .likes svg {
      position: relative;
      top: 8px;
      margin-right: 10px;
    }
    svg * {
      fill: #fff;
    }

    .time {
      margin-left: 35px;
    }

    .no-touchevents &:hover, .no-touchevents &.hover {

      .site-box-content:before {
        opacity: .6;
      }
      .child {
        opacity: 1;
        transform: translateY(0);
      }

    }

    @include at-query($max, $portable) {

      .touchevents & {

        .meta {
          opacity: 1;
          transform: none;
          position: absolute;
          bottom: 0;
          left: 52px;
          background: white;
          height: 52px;
          padding-left: 16px;
          width: calc(100% - 52px);
          text-align: left;
          color: $textMain;
          padding-top: 10px;
          background: $bodyBg;
          svg {
            height: 21px !important;
            top: 5px;
          }
        }

        .icon {   
         opacity: 1;
          transform: none;
          position: absolute;
          bottom: 0;
          left: 0;
          width: 52px !important;
          height: 52px !important;
          padding-top: 12px;
          background: $bodyBg;
          border-right: 1px solid $bodyBgThird;
          svg {
            width: 26px !important;
            height: 28px !important;
          }
        }

        svg * {
          fill: $textMain;
        }

        .time {
          margin-left: 15px;
        }
        
      }

    }

    @include at-query($max, '380px') {
      .touchevents & .meta .time {
        display: none;
      }
    }
  
  }

  // Blog 

  &.box__blog {
    
    .blog-item {

      @extend .clearfix;
      height: 50vh;
      width: 100%;
      display: block;
      position: relative;
      overflow: hidden;
      margin-top: 0;

      color: $textMain;

      &:not(:last-child) {
        border-bottom: 1px solid $bodyBgThird;
      }

      &:hover .content:not(.dark).no-image .title, &.hover .content:not(.dark).no-image .title {
        color: $bodyAcc;
      }

      .content {

        width: 50%;
        float: left;
        display: flex;
        height: 100%;
        align-items: center;
        padding: 0 10%;
        transition: all 250ms $easeInOutSine, background 150ms linear;
        position: relative;
        z-index: 8;

        &:not(.dark) {
          background: $bodyBg;
          .template-index .shopify-section:nth-child(2n+1) & {
            background: $bodyBgSecond;
          }
        }

        .ie9 & {
          z-index: 999;
        }

        > div {
          width: 100%;
        }

        @include at-query($max, $lap) {
          padding: 0 30px;
        }

        &.dark {
          color: #fff !important;
          .header:after {
            background: #fff;
          }
        }

      }

      .title {

        font-size: rem(20px);
        margin-bottom: 0;
        line-height: 1.2;
        @include at-query($max, $lap) {
          font-size: rem(24px);
        }
        @include at-query($max, $palm) {
          font-size: rem(17px);
        }

        transition: color 150ms linear;

      }

      .content.no-image .title {
        font-size: rem(28px);
      }

      p.meta {
        font-size: rem(12px);
        opacity: .66;
        margin: 20px 0 0;
      }

      .header:after {
        content: "";
        display: block;
        margin-top: 35px;
        background: $textMain;
        width: 40px;
        height: 3px;
      }
  
      p.excerpt {
        font-size: rem(14px);
        margin: 30px 0 0 0;
        opacity: 1;
      }

      .background {

        position: absolute;
        top: 0;
        right: 0;
        width: 100%;
        height: 100%;
        transition: transform 300ms linear;

        @include bg();
        &:after {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          display: block;
          content: "";
          background: #000;
          opacity: .5;
          transition: opacity 300ms linear;
        }

        img {
          height: 100%;
          width: 100%;
          object-fit: cover;
          font-family: "object-fit: cover";
          transition: opacity 150ms linear;
          opacity: 0;
          transform: translate3d(0,0,0);
          &.lazyloaded {
            opacity: 1;
          }
        }

      } 
      &:hover .background, &.hover .background {
        transform: scale(1.05);
        &:after {
          opacity: .7;
        }
      }
      
      // hover

      .no-image {
        width: 100% !important;
        + .longarrow {
          display: none !important;
        }
      }

      // responsive

      /*@include at-query($max, $lap) {

        &:nth-child(odd) {
          .content {
            float: right;
          }
          .background {
            right: 50%;
          }
        }
      }*/

      &.paginate {

        display: flex;
        margin-top: 0;

        a {

          display: flex;
          justify-content: center;
          align-items: center;
          font-size: rem(24px);
          height: 100%;
          width: 100%;
          position: relative;

          &.left .icon {
            transform: rotate(180deg);
          }

          .icon {
            position: absolute;
            margin-top: 10px;
            margin-left: -15px;
            left: 50%;
          }

          svg {
            transform: scale(2);
            polygon {
              fill: $textMain;
            }
          }

          .text {
            margin-top: -30px;
          }

          &:hover {
            svg polygon {
              fill: $bodyAcc;
            }
          }

        }

        &.double a {
          width: 50%;
          &:last-child {
            border-left: 1px solid $bodyBgThird;
          }
        }

      }

    }

  }

  // Products

  &.box__collection {

    .template-collection & {
      background: $bodyBg;
    }

    @include at-query($max, $lap) {
      .per-4 &  {
        border-right: none;
        .site-box-content {
          @include clearfix();
          width: calc(100% + 1px);
        }
        .product-item {
          float: left;
          border-right: 1px solid $bodyBgThird;
        }
      }
    }

    @media screen and (max-width: $lap) and (orientation: landscape) {
      height: 100vh !important;
    }

    &.box--big .product-item {
      height: 100vh;
    }

    &.box--typo-small .product-item .caption {
      padding: 25px 30px 20px;
      height: 100px;
      .price {
        margin-top: 5px;
      }
      .longarrow {
        right: 30px;
      }
    }

    .product-item {

      display: block;
      position: relative;
      overflow: hidden;
      height: 100%;

      &:not(:last-child) {
        border-bottom: 1px solid $bodyBgThird;
      }

      .box--product-image {

        &.primary {
          transition: transform 300ms $easeInOutSine;
          position: relative;
          z-index: 8;
        }

        &.secondary {
          position: absolute;
          top: 0;
          left: 0;
          opacity: 0;
          transition: transform 300ms $easeInOutSine, opacity 150ms linear;
          z-index: 9;
        }

      }

      .caption {

        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        display: flex;
        align-items: center;
        padding: 25px 40px 30px;
        height: 100px;
        z-index: 99;

        transition: background 200ms linear, transform 200ms linear;
        transform: translateY(100%);

        h3 {
          margin: 0;
          font-size: rem(16px);
          line-height: 1.1;
          overflow: hidden;
          .overflowed {
            transition: all 150ms linear 50ms;
          }
        }
        .price {
          display: block;
          @include font-quote();
          font-size: rem(14px);
          line-height: 1;
          margin-top: 8px;
          overflow: hidden;
          .overflowed {
            transition: all 150ms linear 100ms;
          }
          del {
            opacity: .6;
            font-size: 13px;
            margin-left: 5px;
          }
        }
        .longarrow {
          position: absolute;
          right: 60px;
          top: 50%;
          transform: translateY(-50%);
          overflow: hidden;
          .overflowed {
            transition: all 150ms linear 150ms;
          }
        }

        .overflowed {
          transform: translateY(100%);
          opacity: 0;
          display: inline-block;
        }

      }

      // styles

      &.alt {
      
        .caption {
          transform: none !important;
          .overflowed {
            transform: none !important;
            opacity: 1;
            transition: all 200ms linear;
          } 
        }

        .longarrow {
          opacity: 0;
          transform: translate3d(-10px, -50%, 0);
          transition: all 150ms linear;
        }

        &:hover, &.hover {
          .box--product-image {
            transform: scale(1.1);
          }
          .longarrow {
            opacity: 1;
            transform: translate3d(0, -50%, 0);
          }
        }

      }

      &.regular:hover, &.regular.hover {

        .caption, .overflowed {
          transform: translateY(0) !important;
          opacity: 1;
        }
        .primary, .secondary {
          transform: translateY(-30px);
        }
        .secondary {
          opacity: 1;
        }

      }

      &:hover, &.hover {
        .secondary {
          opacity: 1;
        }
      }

      @include at-query($max, $portable) {

        .box--product-image {
          height: calc(100% - 100px);
          transform: none !important;
        }

        .caption {
          transform: none !important;
          padding: 20px !important;
          text-align: center;
          color: $textMain !important;
          .overflowed {
            transform: none !important;
            opacity: 1 !important;
          }
          div {
            width: 100%;
          }
          .longarrow {
            display: none !important;
          }
        }

      }

      @include at-query($max, $lap) {
        .caption {
          padding: 20px 10px !important;
        }
        h3 {
          font-size: rem(15px) !important;
          line-height: 1.2 !important;
        }
        .price {
          font-size: rem(13px) !important;
        }
      }

      @include at-query($min, $portable+1) {

        &.style--three .caption {

          height: 100%;
          transform: none !important;
          color: $textMain !important;

          > div {
            z-index: 9;
            width: 100%;
            text-align: center;
          }

          &:before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            z-index: 8;
            transition: all 300ms $easeInOutSine;
          }

          h3 {
            margin: 0;
            font-size: rem(22px);
            line-height: 1.1;
            position: relative;
            z-index: 100;
          }
          .price {
            display: block;
            @include font-quote();
            font-size: rem(16px);
            margin-top: 8px;
            position: relative;
            z-index: 100;
          }

          .longarrow {
            top: auto;
            transform: translateX(50%);
            overflow: hidden;
            transform-origin: center;
            right: 50% !important;
            bottom: 60px;
            z-index: 100;
            .overflowed {
              transform: translateY(-100%);
            }
            .svg {
              transform: rotate(90deg);
              height: 41px !important;
            }
          }

        }

        &.style--three:hover, &.style--three.hover {
          .caption:before {
            opacity: .8;
          }
          .primary, .secondary {
            transform: scale(1.1);
          }
        }

      }

      // colors

      &.color--light {

        .caption {
          color: $textMain;
        }
        svg polygon {
          fill: $textMain;
        }

        &.style--one .caption {
          background: $bodyBg;
        }

        &.style--three {
         .caption:before {
            background: $bodyBg;
          }
        }

        &.alt:hover, &.alt.hover {
          .caption {
            color: $bodyAcc;
          }
          svg polygon {
            fill: $bodyAcc;
          }
        }

      }

      &.color--invert {

        .caption {
          color: $bodyBg;
        }
        svg polygon {
          fill: $bodyBg;
        }

        &.style--one .caption {
          background: $textMain;
        }
        &.style--three .caption:before {
          background: $textMain;
        }

      }

      &.color--accent {

        .caption {
          color: $bodyAccTxt;
        }
        svg polygon {
          fill: $bodyAccTxt;
        }

        &.style--one .caption {
          background: $bodyAcc;
        }
        &.style--three .caption:before {
          background: $bodyAcc;
        }

      }

    }

  }

  &.box__paginate {

    transition: background 250ms linear;

    &:hover, &.hover {
      background: $bodyBg;
      svg {
        transform: scale(1.1);
      }
    }

    a {

      width: 100%;
      height: 100%; 
      display: flex;
      align-items: center;
      justify-content: center;

      svg {
        transition: all 150ms linear;
      }

      &:hover svg *, &.hover svg * {
        fill: $bodyAcc !important;
      }

      .preloader {
        opacity: 0;
      }

      &.loading {
        pointer-events: none;
        .preloader {
          opacity: 1;
        }
        svg {
          opacity: 0;
        }
      }

    }

    svg {
      * {
        fill: $textMain; 
      }
    }

  }

  // Headings

  &.box__heading {

    .template-collection &.box--big:not(.fix-me-with-height-hard) {
      height: auto !important;
      min-height: 100vh !important;
      padding: 100px 0;
      @include at-query($max, $lap) {
        &.lap--box--small-fl {
          min-height: 50vh !important;
        }
      }
    }

    @include i-hate-ie();

    // temp

    @include at-query($max, $lap) {
      .template-collection & {
        //padding-top: 83px; // header height here
        .rte {
          text-align: center;
        }
      }
      text-align: center;
    }

    @media screen and (max-width: $lap) and (orientation: landscape) {
      height: 80vh !important;
      .mount-products & {
        height: 100vh !important;
      }
    }

    @include bg();

    .site-box-content {
      width: 50% !important;
    }
    &.box--small .site-box-content {
      width: 100% !important;
      .title {
        width: 80%;
        margin-left: auto;
        margin-right: auto;
      }
      p {
        width: 50%;
        margin-left: auto !important;
        margin-right: auto !important;
      }
    }
    &.box--bigger .site-box-content {
      max-width: 1200px;
      text-align: center;
    }
    &.box--lots-of-text .site-box-content {
      max-width: 920px;
    }

    .content {
      z-index: 9;
      position: relative;
    }

    .title {
      margin-bottom: 0;
      @include font-head();
      &.dark {
        color: #fff;
      }
      &.light {
        color: #000;
      }
      @include at-query($max, $lap) {
        &.lap--dark {
          color: #fff;
        }
      }
    }

    &.with-overlay:before {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0, .4);
      content: "";
    }

    a:hover, a.hover {
      color: $bodyAcc;
    }

    &.box--typo-big {

      .title {
        font-size: rem(70px);
        font-size: 4vw;
        line-height: 1.1;
      }
      .button {
        margin-top: 65px; 
        @include at-query($max, $palm) {
          margin-top: 24px;
        }
      }
      p {
        font-size: rem(16px);
        opacity: .66;
        margin: 40px 0 0 0;
      }

      @include at-query($max, $portable) {
        .title {
          font-size: rem(45px);
          font-size: 4.5vw;
          line-height: 1.2;
        }
      }
      @include at-query($max, $lap) {
        .title {
          text-align: center;
          font-size: rem(48px);
        }
        &.box--add-hr .site-box-content:after {
          margin: 60px auto 0;
        }
        .site-box-content {
          max-width: none;
        }
      }
      @include at-query($max, $palm) {
        .title {
          font-size: rem(28px);
        }
        &.box--add-hr .site-box-content:after {
          margin-top: 40px;
          width: 40px;
        }
      }

    }

    @include at-query($max, $portable) {
      .site-box-content {
        width: 100% !important;
        padding: 0 15% !important;
      }
    }
    @include at-query($max, $lap) {
      .site-box-content {
        padding: 0 10% !important;
        width: 100% !important;
      }
      .site-box-background {
        //background-position: top center;
      }
    }

    &.box--typo-small {

      text-align: center;

      .title {
        font-size: rem(32px);
        line-height: 1.3;
      }
      p {
        font-size: rem(13px);
        opacity: .66;
        margin: 20px 0 0 0;
      }
      .button {
        margin-top: 35px;
      }

      @include at-query($max, $lap) {
        .title {
          font-size: rem(28px);
        }
      }
      @include at-query($max, $palm) {
        .title {
          font-size: rem(22px);
        }
        &.palm--box--small-fl .title {
          font-size: rem(28px);
        }
      }

    }

    .rte {
      margin-top: 30px !important;
      font-family: rem(16px);
      div {
        opacity: .66;
      }
    }

    &.box--add-hr .site-box-content:after {
      content: "";
      display: block;
      width: 60px;
      height: 4px;
      margin-top: 70px;
      background: $textMain;
    }
   
    &.box--typo-small.box--add-hr .site-box-content:after, &.portable--box--typo-small.box--add-hr .site-box-content:after {
      margin: 45px auto 0;
      width: 40px;
      height: 3px;
    }
    &.box--add-hr .site-box-content.dark:after {
      background: #fff;
    }
    @include at-query($max, $lap) {
      &.box--add-hr .site-box-content.lap--dark:after {
        background: #fff;
      }
      .fix-me-with-margin {
        margin-top: 0 !important;
      }
    } 

    @include at-query($max, $palm) {
      .template-page-contact &.box--add-hr .site-box-content:after {
        display: none;
      }
    }

    &.box--404 {

      h1 {
        font-size: rem(30px);
      }

      p {
        margin-top: 15px;
        opacity: 1;
        color: rgba($textMain, .66);
        a {
          font-weight: $bodyFontBoldWeight;
          color: $textMain;
          &:hover, &.hover {
            color: $bodyAcc;
          }
        }
      }

      .site-box-content:after {
        width: 40px;
        margin: 45px auto 0;
      }

    }

    .meta {

      @include at-query($min, $palm) {
        font-size: rem(13px);
      }

      &.dark {
        color: #fff;
        &:after {
          background: #fff;
        }
      }
      &.light {
        color: #000;
        &:after {
          background: #000;
        }
      }

      margin-top: 30px;
      margin-left: -15px;

      li {
        display: inline-block;
        margin: 0 15px;
      }

      &:after {
        content: "";
        display: block;
        width: 40px;
        height: 4px;
        margin-top: 50px;
        margin-left: 15px;
        background: $textMain;
        @include at-query($max, $lap) {
          display: none;
        }
      }

      &.tags {

        margin-left: 0;
        margin-top: 40px;
        &:after {
          margin-top: 55px;
          margin-left: 7px;
        }

        a {

          font-size: rem(12px);
          line-height: 1;
          background: $bodyBgThird;
          opacity: .66;
          display: inline-block;
          padding: 8px 10px;
          margin: 0 7px 14px;

          &:hover, &.hover {
            background: $bodyAcc;
            color: $bodyAccTxt;
            opacity: 1;
          }
          &.active {
            background: $textMain;
            color: $bodyBg;
            opacity: 1;
          }

        }

      }

    }
  
  }

  // Testimonials
  
  @include at-query($min, $palm+1) {
    .mount-testimonials .site-box-container:not([data-all_posts="2"]) & {
      height: auto !important;
      min-height: 50vh !important;
    }
    .mount-testimonials .site-box-container[data-all_posts="1"] & {
      min-height: 100vh !important;
    }
  }

  &.box__testimonial {

    .site-box-content {
      display: flex;
      flex-direction: column-reverse;
      text-align: center;
      padding: 50px 11%;
    }

    @include at-query($min, $lap+1) {
      &.box--small-lg blockquote {
        @include font-quote();
        font-style: $quoteFontRegularStyle;
        font-size: rem(28px);
      }
      &.box--big blockquote {
        @include font-quote();
        font-style: $quoteFontRegularStyle;
        font-size: rem(36px);
      }
    }

    @include at-query($max, $lap) {
      .site-box-container[data-posts="0"] &:last-child {
        width: 100% !important;
        height: auto !important;
        min-height: 50vh !important;
      }
    }

    @include at-query($max, $palm) {
      width: 100% !important;
      height: auto !important;
      min-height: 33vh !important;
    }

    .cite {
      opacity: .66;
      font-size: rem(12px);
      margin: 0;
      padding-top: 10px;
    }

    .avatar {

      width: 75px;
      height: 75px;
      border-radius: 100%;
      margin: 0 auto 50px;

      img {
        border-radius: 100%;
      }

      .avatar {
        background: $bodyBgSecond;
        path {
          fill: $textMain;
        }
      }

    }

  }

  // Rich text

  &.box__text {

    .site-box-content {
      padding: 100px 0;
      width: 70%;
      max-width: 800px;
      @include at-query($max, $lap) {
        width: 80%;
        padding: 12% 0;
      }
    }
    &.box--big .site-box-content {
      max-width: 80%;
    }

    .rich-text-title {
      font-size: rem(14px);
      text-transform: uppercase;
      border-bottom: 3px solid;
      padding-bottom: 25px;
      margin-bottom: 75px;
      @include at-query($max, $lap) {
        margin-bottom: 50px;
      }
      @include at-query($max, $palm) {
        margin-bottom: 30px;
      }
    }

    .block:not(:first-child) {
      margin-top: 90px;
    }

  }

  &.box__form {

    .site-box-content {
      padding: 100px 0;
      width: 70%;
      max-width: 500px;
    }
  
    .caption {
      font-size: rem(13px);
      opacity: .66;
      margin-bottom: 40px;
    }

  }

  // Split screen

  &.box__slideshow-split {

    border-bottom: 1px solid $bodyBgThird;
    background: $bodyBg !important;
    display: block;

    &:not(.back-to-normal) .site-box-background-container {

      @include at-query($min, $portable+1) {

        @include sidebar-transition(transform);
        body.sidebar-move & {
          transform: translateX(-480px);
          @include at-query($max, '640px') {
            transform: translateX(-320px);
          }
        }

      }

    }

    .slider-meta {
      background: transparent !important;
    }

    .slideshow-item {

      @extend .clearfix;

      .site-box.box--big {
        @include i-hate-ie();
      }

      .index-margin-fix &:not(:first-child) .site-box-content.fix-me-with-margin {
        margin-top: 0 !important;
      }

      .site-box-content {
        width: 50%;
        display: flex;
        flex-direction: column;
      }

      .site-box {
        border: none !important;
      }

      .caption {
        opacity: .92;
        font-size: rem(15px);
        margin-bottom: 70px;
        text-align: left;
      }
      .title {
        font-size: rem(80px);
        font-size: 4vw;
        line-height: 1.125;
        margin-bottom: 0;
        text-align: left;
        + .button {
          margin-top: 60px;
        }
      }
      .subtitle {
        @include font-quote();
        font-size: rem(18px);
        line-height: 1;
        opacity: .66;
        margin-top: 50px;
        text-align: left;
      }
      .button {
        margin-top: 30px;
        align-self: flex-start;
        transition: opacity 150ms linear, color 150ms linear, padding 200ms linear/*, transform 200ms linear*/;
      }

      .site-box-background-container {

        position: fixed;
        width: 50%;
        height: 100vh;
        right: 0;
        top: 0;

        > div {

          position: absolute;
          width: 100%;
          height: 0;
          overflow: hidden;
          will-change: transform;

          &.clip-transition {
            transition: height 600ms $easeInOutSine, opacity 600ms linear;
          }

        }

        .site-box-black-overlay {   
          content: "";
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: black;
          opacity: 0;
        }

      }
      .site-box-background {
        height: 100vh;
        &:after {
          display: none;
        }
        //transition: clip 100ms linear, top 100ms linear;
      }
      &:not(:first-child) .site-box-background-container div:not(.active) {
        display: none;
      } 

      .shopify-section & .site-box {
        background-color: $bodyBg;
        overflow: visible;
      }

    }

    &.back-to-normal .site-box-background-container {
      position: absolute;
      width: 100%;
      right: -100%;
    }

    // responsive

    @include at-query($max, $portable) {
      .title {
        transform: none !important;
      }
      .caption {
        transform: none !important;
      }
      .subtitle {
        transform: none !important;
      }
      .button {
        transform: none !important;
      }
    }


    @include at-query(null, $lap+1, $portable) {

      .site-box-background-container  {

        position: absolute !important;
        width: 100% !important;
        right: -100% !important;
        > div {
          height: 100% !important;
        }
        .site-box-black-overlay {  
          display: none;
        }

      }

      .flickity-enabled .slideshow-item {
        opacity: 1 !important;
      }

      .slideshow-item {

        width: 100%;
        height: 100%;

        &:not(:first-child) {
          opacity: 0;
        }

        &:first-child {
          .site-box-background {
            opacity: 0;
            transition: opacity 400ms linear; 
          }
          .site-box-content {
            transform: translateY(50px);
            opacity: 0;
          }
          .site-box-content {
            transition: opacity 400ms linear 100ms, transform 400ms linear 100ms; 
          }
        } 

        &:first-child .box__slideshow-item.active {
          .site-box-background {
            opacity: 1;
          }
          .site-box-content {
            transform: translateY(0);
            opacity: 1;
          }
        }
       
      }
      
      > .site-box-content {

        width: 100%;
        height: 100%;

        &:after {
          content: 'flickity';
          display: none;
        }

      }

      .box__slideshow-item {
        height: 100% !important;
        min-height: 0 !important;
      }

    }

    @include at-query($max, $lap) {

      height: calc(100vh - 91px); // header height-1 here
      justify-content: flex-start;

      .slideshow-item {

        width: 100%;
        height: 100%;
        .site-box-background {
          height: 100% !important;
        }

        .site-box-black-overlay {
          opacity: .4 !important;
        }

        .box__slideshow-item {
          width: 100%;
          height: 100% !important;
          min-height: 0;
          align-items: flex-start;
          padding: 0 10%;
          z-index: 9;
        }

        .site-box-content {
          width: 80%;
          margin: auto !important;
          text-align: center;
          color: #fff;
        }
        .index-margin-fix &:not(:first-child) .site-box-content.fix-me-with-margin {
          margin: auto !important;
        }
        
        .site-box-background-container {
          width: 100% !important;
          height: 100% !important;
          border-left: 0 !important;
          right: 0 !important;
          position: absolute !important;
          > div {
            height: 100% !important;
          }
        }
          
        .title {
          text-align: center;
          font-size: 8vw;
          transform: none !important;
        }
        .caption {
          text-align: center;
          margin-bottom: 50px;
          opacity: 1;
          transform: none !important;
        }
        .subtitle {
          text-align: center;
          font-size: rem(15px);
          opacity: 1;
          transform: none !important;
        }
        .button {
          align-self: center;
          transform: none !important;
          &:not(:hover), &:not(.hover) {
            background: #fff !important;
            color: #000 !important;
          }
        }

      }

      > .site-box-content {

        width: 100%;
        height: calc(100% - 60px);

        &:after {
          content: 'flickity';
          display: none;
        }

      }

    }

    @include at-query($max, $palm) {
      .title {
        font-size: 10vw !important;
      }
      .caption {
        margin-bottom: 40px !important;
      }
      .subtitle {
        margin-top: 30px !important;
      }
    }

    .slider-meta {
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 60px;
      padding: 18px 30px 0;
      z-index: 9;
    }
    .slider-index {
      font-size: rem(14px);
      text-align: center;
      cursor: default;
    }
    .slider-nav {
      position: absolute;
      right: 30px;
      span {
        cursor: pointer;
        .no-touchevents &:hover, .no-touchevents &.hover {
          svg * {
            fill: $bodyAcc;
          }
        }
      }
    }
    .go-prev {
      margin-right: 30px;
      svg {
        transform: rotate(180deg);
      }
    }


  }

  // Cards

  &.box__image-text {

    @include i-hate-ie();

    border: none !important;

    &.style--dark {
      .site-box-background:after {
        background: #000;
      }
      color: #fff;
      .title.add-hr:after {
        background: #fff;
      }
      .video-lightbox {
        color: #fff;
        svg * {
          fill: #fff;
        }
      }
    }
    &.style--light {
      .site-box-background:after {
        background: #fff;
      }
      color: #000;
      .title.add-hr:after {
        background: #000;
      }
      .video-lightbox {
        color: #000;
        svg * {
          fill: #000;
        }
      }
    }

    .site-box-background:after {
      opacity: 0;
    }
    &.button-true .site-box-background:after {
      display: none;
    }

    &:hover, &.hover {
      .site-box-background:after {
        opacity: .5;
      }
    }
    &.button-false:hover, &.button-false.hover {
      color: $bodyAcc !important;
      .title.add-hr:after {
        background: $bodyAcc !important;
      }
    }

    .site-box-content {

      display: flex;
      flex-direction: column-reverse;
      padding: 0 15%;
      width: 100%;
      align-items: flex-start;

      .content {
        width: 100%;
        position: relative;
        z-index: 9;
      }

    }

    .title {
      margin-bottom: 0;
      &.add-hr:after {
        display: block;
        content: "";
        margin: auto;
        transition: all 150ms linear;
        background: $textMain;
      }
    }

    &.box--typo-bigger {

      .title {
        font-size: rem(76px);
        font-size: 10vmin;
        line-height: 1;
        &.add-hr:after {
          width: 60px;
          height: 4px;
          margin-top: 60px;
        }
      }
      &:hover .title.add-hr:after, &.hover .title.add-hr:after {
        width: 100px;
      }

      p {
        font-size: rem(16px);
        margin-bottom: 45px;
      }

      .button {
        margin-top: 60px;
      }

      @include at-query($max, $lap) {
        .title {
          font-size: rem(48px);
        }
      }
      @include at-query($max, $palm) {
        .title {
          font-size: rem(28px);
        }
      }

    }

    &.box--typo-big {

      .title {
        font-size: rem(40px);
        line-height: 1;
        &.add-hr:after {
          width: 40px;
          height: 4px;
          margin-top: 50px;
        }
      }
      &:hover .title.add-hr:after, &.hover .title.add-hr:after {
        width: 70px;
      }

      p {
        font-size: rem(16px);
        margin-bottom: 35px;
      }

      .button {
        margin-top: 50px;
      }

      @include at-query($max, $lap) {
        .title {
          font-size: rem(28px);
        }
      }

    }

    @include at-query($max, $palm) {

      &.box--typo-big, &.box--typo-bigger {
        p {
          margin-bottom: 25px;
          font-size: rem(14px);
        }
        .title:after {
          margin-top: 40px !important;
        }
      }

    }

    &.box--typo-small {

      .title {
        font-size: rem(26px);
        &.add-hr:after {
          width: 30px;
          height: 3px;
          margin-top: 35px;
        }
      }
      &:hover .title.add-hr:after, &.hover .title.add-hr:after {
        width: 50px;
      }

      p {
        margin-bottom: 20px;
      }
      .button {
        margin-top: 40px;
      }

    }

    .site-box-background.with-image {
      transition: transform 300ms $easeInOutSine, background 200ms linear, opacity 400ms linear;
    }
    &:hover .site-box-background.with-image, &.hover .site-box-background.with-image {
      transform: scale(1.025);
    }
    .site-box-background.onboard {
      background-size: contain;
      &:after {
        opacity: .75;
      }
    }

    .shopify-section & {
      background-color: $bodyBg;
    }

    &.align--left {
      text-align: left;
      .title.add-hr:after {
        margin-left: 0;
      }
    }
    &.align--center {
      text-align: center;
    }
    &.align--right {
      text-align: right;
      .title.add-hr:after {
        margin-right: 0;
      }
    }

    .video-lightbox {

      display: inline-block;
      font-size: rem(24px);
      font-weight: $bodyFontBoldWeight;
      margin-top: 40px;

      span {
        position: relative;
        top: 7px;
        margin-left: 7px;
        margin-right: 7px;
      }

      &:hover, &.hover {
        color: $bodyAcc;
        svg * {
          fill: $bodyAcc;
        }
      }

    }

  }

  // Newsletter

  &.box__newsletter {

    .site-box-content {
      width: 70%;
      max-width: 1160px;
      margin: auto;
      text-align: center;
    }

    .title {
      font-size: rem(37px);
      line-height: 1.1;
      margin-bottom: 32px;
    }
    .subtitle {
      opacity: .66;
      font-size: rem(15px);
      margin-bottom: 52px;
    }

    .input-group {
      position: relative;
      max-width: 800px;
      margin: auto;
    }
    input[type="email"] {
      width: 100%;
    }
    input[type="submit"] {
      position: absolute;
      top: 0;
      right: 0;
      left: auto;
    }

    @include at-query($max, $portable) {
      .site-box-content {
        width: 90%;
      }
      .title {
        font-size: rem(27px);
        margin-bottom: 27px;
      }
      .subtitle {
        font-size: rem(13px);
        margin-bottom: 42px;
      }
    }

  }

  // Announcement bar

  &.box__announcement {

    a {
      height: 100%;
      display: flex;
      align-items: center;
    }

    .site-box-content {
      width: 80%;
      margin-left: auto;
      margin-right: auto;
    }

    .title {
      font-size: rem(37px);
      @include font-head();
      opacity: 1;
      margin: 0;
      text-align: center;
      @include at-query($max, $portable) {
        font-size: rem(27px);
      }
    }
  }

}

.site-box-background {
  &.onboarding-slide {
    background-color: #fff;
    background-size: contain;
    background-repeat: repeat;
    transform: translate3d(0,0,0);
    &:before {
      position: absolute;
      content: "";
      display: block;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      background: rgba(255,255,255,.9);
      background: linear-gradient(rgba(255,255,255,.9), rgba(235,235,235,.9));
    }
  }
}

.onboarding-svg {

  position: absolute;
  background-color: #fff;
  display: block;
  width: 100%;
  height: 100%;
  background-repeat: repeat;
  transform: translate3d(0, 0, 0);

  &:before {
    position: absolute;
    content: "";
    display: block;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 1;
    background: rgba(255,255,255,.4);
    background: linear-gradient(rgba(255,255,255,0.7), rgba(235,235,235,0.4));
  }

  svg {
    height: 100%;
    width: 100%;
    position: relative;
    height: 100%;
    z-index: 0;
    path {
      fill: #000 !important;
    }
  }

}

// extras

.mount-testimonials > .site-box-container {
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  align-items: stretch;
}

/*============================================================================
  #Site Header
==============================================================================*/

.site-header {

  @include font-menu();

  right: 0;
  padding: 0 60px;
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  background: $bodyBg;
  color: $textMain;
  border-bottom: 1px solid $bodyBgThird;
  z-index: 999;
  font-weight: bold;

  &.desktop-view--classic {
    z-index: 999;
  }

  body.opened-submenu & {
    z-index: 9999;
  }

  @include sidebar-transition(right);
  body.sidebar-move & {
    right: 480px;
    @include at-query($max, '640px') {
      right: 320px;
    }
  }

  h1, h3 {
    margin: 0;
  }

  a {
    display: inline-block;
  }
  img {
    vertical-align: middle;
    max-height: 80px;
  }

  // Classic design

  top: 0;
  position: fixed;
  align-items: center;
  width: 100%;

  &.desktop-view--classic {
    padding: 20px 60px;
  }
  &.desktop-view--minimal {
    //padding: 40px 60px;
  }

  &.header-scroll {
    position: absolute !important;
    &:not(.fix) {
      right: 0 !important;
    }
  }

  &.fix {
    position: fixed !important;
    transform: translateY(-100%);
    &.ready {
      transition: right 500ms $easeInOutQuad, transform 100ms linear;
    }
    &.animate {
      transform: translateY(0);
    }
  }

  .primary-menu {

    li {
      margin: 0;
      text-align: center;
    }

    a {
      font-size: rem(13px);
      font-weight: $menuFontRegularWeight;
      line-height: 1;
      color: $textMain;
      opacity: .92;
      position: relative;
      padding: 15px 20px;
      cursor: pointer;
      z-index: 9;
    }

    li:hover > a, li.hover > a, li a.active { 
      opacity: 1;
      color: $bodyAcc;
    }

  }

  .site-meta {
    margin: 0 -15px 0 70px;
    .item {
      margin-right: 10px;
    }
  }

  + .site-menu-handle {
    display: none;
  }

  .site-nav-container {

    display: flex;
    align-items: center;
    margin-right: 20px;

    > * {
      display: inline-block;
    }

  }

  .primary-menu li {
    display: inline-block;
  }

  // SCROLLING



  // MINimal

  &.desktop-view--minimal {

    @include at-query($min, $portable+1) {

      &.header-scroll.fix {
        .sidebar-move & {
          right: 480px;
          @include at-query($max, '640px') {
            right: 320px;
          }
        }
      }
  
      top: 0 !important;
      position: fixed;

      padding: 20px 60px;
      border-bottom: 0;
      box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.08);
      top: 0 !important;


      /*.logo {
        margin: 0px 60px;
        position: relative;
        top: 65px;
      }

      .site-nav.style--classic {
        margin-right: 50px;
        position: relative;
        top: 65px;
      }*/

      #site-menu-handle {
        display: flex;
      }
      .site-nav-container {
        display: none;
      }

    }

  }

}

.site-menu-handle {

  width: 27px;
  height: 22px;
  position: relative;
  opacity: .66;
  margin: 10px 11px 0;
  overflow: visible;
  transition: opacity 150ms linear;
  
  @include at-query($min, $portable+1) {
    .desktop-view--minimal & {
      opacity: 1;
    }
  }
  @include at-query($max, $portable) {
    opacity: 1;
  }

  body.sidebar-move & {
    opacity: .08;
    pointer-events: none;
  }

  &:hover, &.hover {
    opacity: .92;
  }

}

#site-filters {
  display: none;
}

#site-nav--mobile.show-filters {
  #site-filters {
    display: block;
  }
  #site-navigation, #site-cart, #site-search {
    display: none;
  }
}

#site-search {
  display: none;
}

#site-nav--mobile.show-search {
  #site-search {
    display: block;
  }
  #site-navigation, #site-cart, #site-filters {
    display: none;
  }
}

.site-close-handle {

  position: absolute;
  top: 55px;
  right: 50px;
  width: 35px;
  height: 35px;
  z-index: 999;
  transition: transform 150ms linear;

  &:hover, &.hover {
    transform: scale(1.1);
  }

}

#site-cart {
  display: none;
}

#site-nav--mobile.show-cart {
  #site-filters, #site-navigation, #site-search {
    display: none;
  }
  #site-cart {
    display: block;
  }
}

.site-nav {

  &.style--classic {

    display: flex;
    margin-right: -10px;

    @include at-query($max, $portable) {
      margin-right: -5px;
    }

    .show-in-classic {
      display: inline-block;
    }

    li.has-submenu {

      &:after {
        display: block;
        content: "";
        position: absolute;
        width: 100%;
        height: 100%;
        left: 0;
        visibility: hidden;
      }
      &:hover:after, &.hover:after {
        visibility: visible;
      }

    }

    .submenu {

      position: absolute;
      left: 0;
      width: 100%;
      padding: 70px 0;
      background: $bodyBg;
      text-align: center;
      display: none;

      li {
        margin: 0 50px;
      }

      a {
        font-size: rem(40px);
        line-height: 1;
        font-weight: $menuFontBoldWeight;
        text-transform: none;
      }

    }

    li.has-submenu.text-small .submenu {
      li {
        margin: 0 35px;
      }
      a {
        font-size: rem(32px);
      }
    }
    li.has-submenu.text-smaller .submenu {
      li {
        margin: 0 30px;
      }
      a {
        font-size: rem(28px);
      }
    }
    li.has-submenu.text-smallest .submenu {
      li {
        margin: 0 20px;
      }
      a {
        font-size: rem(22px);
      }
    }

  }

  @include font-menu();

  // Sideber design
  
  &.style--sidebar {

    .ie9 & {
      display: none;
    }

    /* temp */

    .show-in-sidebar {
      display: inline-block;
    }

    li.has-submenu:not(.collections-menu)  {

      position: relative;

      .icon-go {
        top: 16px;
        margin-left: -5px;
        margin-top: 5px !important;
        svg {
          margin-left: -35px !important;
          path {
            fill: $textMain !important;
          }
        }
      }

      .submenu {

        padding: 15px 15px 5px 15px;
        display: none;

        li {

          margin-bottom: 0;

          a {
            opacity: .62;
            font-size: rem(14px);
            &:hover, &.hover {
              opacity: 1;
              color: $textMain;
            }
          }

        }

        li:not(:last-child) {
          margin-bottom: 10px;
        }

      }


    }

    /* end temp */

    position: fixed;
    width: 480px;
    height: 100vh;
    right: 0;
    top: 0;
    background: $bodyBg;
    color: $textMain;
    z-index: 8888;
    overflow: hidden;
    @include sidebar-transition(transform);

    transform: translateX(100%);
    &.active {
      transform: translateX(0);
    }

    .site-nav-container {

      width: calc(100% + 20px);
      height: 100%;
      overflow-y: scroll;
      -webkit-overflow-scrolling: touch;
      &::-webkit-scrollbar {
        width: 0 !important;
      }  
      scrollbar-width: none; 
      -ms-overflow-style: none; 


      .top {
        padding-top: 50px;
        position: relative;
      }

      .title {
        font-size: rem(14px);
        text-transform: uppercase;
        margin: 3px 0 0 0;
      }

      .subtitle {
        margin: 50px 0 0 0;
        border-top: 1px solid $bodyBgThird;
        border-bottom: 1px solid $bodyBgThird;
        height: 70px;
        opacity: .66;
        display: flex;
        align-items: center;
      }

    }
    &.show-filters .site-nav-container-last, &.show-cart .site-nav-container-last, &.show-search .site-nav-container-last {
      padding-bottom: 100px;
    }

    .site-nav-container-last {

      width: calc(100% - 0px);
      position: relative;
      overflow: hidden;
      min-height: 100%;
      padding: 60px 70px 250px 50px;

    }

    .site-meta {
      position: absolute;
      top: 60px;
    }

    .collections-menu {

      margin-bottom: 50px !important;

      li {
        margin-bottom: 5px !important;
      }
      > a, .icon-go {
        display: none;
      }

      a {
        font-size: rem(30px);
        font-weight: $menuFontBoldWeight !important;
      }

    }

    .primary-menu {
      li {
        margin-bottom: 12px;
      }
      a {
        font-weight: $menuFontRegularWeight;
      }
    }

    .login {
      margin-top: 50px;
    }

  }

  // General rules

  color: $textMain;
  a {
    color: $textMain;
    &:hover, &.hover {
      color: $bodyAcc;
    }
  }

  form[role="search"] {
  
    position: relative;
    margin-top: 50px;

    input[type="search"] {
      background: $bodyBgThird;
      color: $textMain;
      width: 100%;
      border: none;
      @include input-placeholder() {
        color: rgba($textMain, .66);
      }
    }

    button {

      position: absolute;
      top: 15px;
      right: 20px;
      opacity: .12;
      transition: opacity 150ms linear;

      &:hover, &.hover {
        opacity: 1;
      }
      svg * {
        fill: $textMain;
      }

    }

  }

}

.to-bottom-content {
  position: absolute;
  bottom: 60px;
  left: 20%;
  @include at-query($max, $portable) {
    left: 17.5%;
  }
  @include at-query($max, $palm) {
    left: 12.5%;
  }
  .site-nav & {
    left: 50px !important;
    @include at-query($max, '640px') {
      left: 30px !important;
    }
  }
}
.site-copyright {
  font-size: rem(12px);
  opacity: .66;
  p {
    margin-bottom: 0;
  }
}

.cart-menu {

  svg {
    overflow: visible;
    path {
      fill: $textMain;
    }
  }

  #site-cart-handle.hover-in & .count, #site-cart-handle.hover & .count {
    animation-name: scroll-in;
  }
  #site-cart-handle.hover-out & .count {
    animation-name: scroll-out;
  }

  .count-holder {
    position: absolute;
    top: 8px;
    left: 0;
    width: 24px;
    text-align: center;
    font-size: rem(13px);
    line-height: 1;
    font-weight: bold;
    color: $textMain;
    height: 17px;
    overflow: hidden;
  }
  .count {
    transition: top 150ms linear;
    position: relative;
    top: 2px;
    animation-duration: 300ms;
  }

}

@keyframes scroll-in {
  0% {
    top: 2px;
  }
  49% {
    top: -14px;
  }
  50% {
    top: 19px;
  }
  100% {
    top: 2px;
  }
}

@keyframes scroll-out {
  0% {
    top: 2px;
  }
  49% {
    top: 19px;
  }
  50% {
    top: -14px;
  }
  100% {
    top: 2px;
  }
}

// Helper

$bar-width: 27px;
$bar-height: 3px;
$bar-spacing: 7px;

.hamburger-menu {

  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  margin: auto;
  width: $bar-width;
  height: $bar-height + $bar-spacing*2;
  cursor: pointer;
  display: block;
  transition: all 150ms linear;

  &:not(.active):hover, &:not(.active).hover {
    .bar {
      width: $bar-width + 4px;
      &:before {
        width: $bar-width - 10px;
      }
      &:after {
        width: $bar-width - 7px;
      }
    }
  }

  .bar,
  .bar:after,
  .bar:before {
    width: $bar-width;
    height: $bar-height;
  }

  .bar {

    position: relative;
    transform: translateY($bar-spacing);
    background: $logoColor;
    transition: all 0ms 100ms, width 150ms linear;
    display: block;
    
    &.animate {
      background: transparent; 
    }

  }

  .bar:before {
    content: "";
    position: absolute;
    right: 0;
    bottom: $bar-spacing;
    background: $logoColor;
    transition: bottom 300ms 100ms cubic-bezier(0.23, 1, 0.32, 1), transform 300ms cubic-bezier(0.23, 1, 0.32, 1), width 150ms linear, background 150ms linear;
  }

  .bar:after {
    content: "";
    position: absolute;
    right: 0;
    top: $bar-spacing;
    background: $logoColor;
    transition: bottom 300ms 100ms cubic-bezier(0.23, 1, 0.32, 1), transform 300ms cubic-bezier(0.23, 1, 0.32, 1), width 150ms linear;
    transition: top 300ms 100ms cubic-bezier(0.23, 1, 0.32, 1), transform 300ms cubic-bezier(0.23, 1, 0.32, 1), width 150ms linear, background 150ms linear;
  }

  .bar.animate:after {
    top: 0;
    transform: rotate(45deg);
    transition: top 300ms cubic-bezier(0.23, 1, 0.32, 1), transform 300ms 100ms cubic-bezier(0.23, 1, 0.32, 1);
  }

  .bar.animate:before {
    bottom: 0;
    transform: rotate(-45deg);
    transition: bottom 300ms cubic-bezier(0.23, 1, 0.32, 1), transform 300ms 100ms cubic-bezier(0.23, 1, 0.32, 1);
  }

}

/*============================================================================
  #Site Footer
==============================================================================*/

#shopify-section-footer {
  position: relative;
  &:before {
    content: "";
    width: 100%;
    height: 1px;
    background: $textMain;
    z-index: 888;
    display: block;
    top: 0px;
    position: absolute;
    @include at-query($max, $palm){
      display: none;
    }
  }
  &:after {
    content: "";
    width: 100%;
    height: 1px;
    background: $textMain;
    z-index: 888;
    display: block;
    bottom: 0px;
    position: absolute;
    clear: both;
  }
}

.site-footer {

  font-size: rem(13px);
  color: $footerTxt;
  top: -1px;
  z-index: 9;
  background: $textMain;

  @include at-query($min, $lap+1) {
    display: flex;
  }
  @include at-query($max, $lap) {

    padding: 100px 0 !important;
    .site-box {
      padding: 0 !important;
    }

    .footer-content:not(:last-child) {
      margin-bottom: 80px !important;
    }
    .to-bottom-content {
      bottom: -20px !important;
    }

  }

  a {
    color: $footerTxt;
    &:hover, &.hover {
      color: $bodyAcc;
    }
  }
  
  .footer-content, .site-copyright {
    width: 60%;
    @include at-query($max, $portable) {
      width: 65%;
    }
    @include at-query($max, $palm) {
      width: 75%;
    }
    .ie9 & {
      margin: auto;
    }
  }
  .footer-content:not(:last-child) {
    margin-bottom: 140px;
  }
  
  h4 {
    opacity: .48;
    text-transform: uppercase;
    font-size: rem(13px);
    margin-bottom: 40px;
  }
  .caption {
    opacity: .78;
    margin-top: 25px;
  }

  // widgets

  .info {
    font-size: rem(37px);
    line-height: 1;
    font-weight: $bodyFontBoldWeight;
    @include at-query($max, $palm) {
      font-size: rem(27px);
    }
  }

  .footer-links {
  
    @include at-query($min, $palm+1) {
      display: flex;
      flex-wrap: wrap;
      li {
        width: 50%;
      }
    }

    li {
      margin: 4px 0;
    }

  }

  .site-copyright {
    opacity: .66;
  }
  
  .site-box {
    padding: 100px 0;
    border-bottom: 0 !important;
    border-right: 1px solid lighten($textMain, 5%) !important;
    background: $textMain !important;
  }

  .input-group {
    margin-top: -10px;
  }
  input:not([type="submit"]) {
    background: darken($textMain, 7%) !important;
    color: $bodyBg !important;
    @include input-placeholder() {
      color: rgba($bodyBg, .66) !important;
    }
    width: calc(100% - 130px);
    &:focus {
      background: darken($textMain, 3%) !important;
    }
  }
  input[type="submit"] {
    background: lighten($textMain, 7%);
    color: $bodyBg;
    top: 1px;
    margin-top: 10px;
  }

  @media all and (max-width: $portable) and (min-width: $lap), all and (max-width: $palm) {
    input:not([type="submit"]) {
      width: 100%;
    }
    input[type="submit"] {
      width: auto;
    }
  }

  .errors {
    position: relative;
    top: -15px;
  }

}

.site-preloader {

  position: fixed;
  background: url({{ settings.preloader | img_url: '2048x2048' }}) no-repeat center center transparent;
  background-size: 75px 75px;
  width: 75px;
  height: 75px;
  top: 50%;
  left: 50%;
  transform: translate3d(-50%, -50%, 0);
  z-index: 99999;
  transition: opacity 150ms linear;
  pointer-events: none;

  &.out {
    opacity: 0;
  }

}

.site-social {

  margin-bottom: 30px;
  height: 26px;
  display: flex;

  a {

    margin: 0 7px;
    display: inline-block;
    width: 26px;
    height: 26px;

    .site-nav & {
      opacity: .62;
      &:hover, &.hover {
        opacity: 1;
      }
    }

    svg {
      width: 26px !important;
      height: 26px !important;
    }

  }

  svg * {
    fill: $textMain;
    transition: fill 150ms linear;
  }
  .site-nav & {
    .invert-fill {
      fill: $bodyBg;
    }
  }
  .site-footer & {
    a {
      &:hover svg *, &.hover svg * {
        fill: $bodyAcc;
      }
    }
    svg * {
      fill: $bodyBg;
    }
    .invert-fill {
      fill: $textMain;
    } 
  }

  .icon {

  }

}

/*===========================================================================
  #Elements
==============================================================================*/

.site-overlay {

  background: rgba(0,0,0, .8);
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;  
  z-index: 7777;
  opacity: 0;
  visibility: hidden;
  transition: all 200ms linear;

  &.active {
    opacity: 1;
    visibility: visible;
  }

}


/*============================================================================
  #Site Header
==============================================================================*/

.site-box-content {
  z-index: 9;
}

.mount-slideshow .site-box .site-box-background.with-image:after {
  opacity: 0;
}
.mount-slideshow .site-box:hover .site-box-background.with-image:after, .mount-slideshow .site-box.hover .site-box-background.with-image:after {
  opacity: .8;
}

.box--product-image {
  
  @include bg();
  img {
    height: 100%;
    width: 100%;
    object-fit: cover;
    font-family: "object-fit: cover";
    transition: opacity 150ms linear;
    transform: translate3d(0,0,0);
    opacity: 0;
    &.lazyloaded {
      opacity: 1;
    }
  }

  width: calc(100% + 1px);
  height: 100%;

}

// others which i want "outside"



.site-box.animation-invert {
  transition: background 200ms linear;
}


.real-video-bg {

  position: absolute;
  top: 50%;
  left: 50%;
  min-width: 100%;
  min-height: 100%;
  width: auto;
  height: auto;
  z-index: 0;
  margin: 0;
  max-width: none;
  vertical-align: middle;
  transform: translate(-50%, -50%); 
  opacity: 0;
  //transition: opacity 300ms linear; 

  &.ready {
    opacity: 1;
  }

}


/// CART


.site-cart-handle {
  height: 28px;
  top: -4px;
  transition: opacity 150ms linear;
  @extend .site-menu-handle;
}

.site-search-handle {
  top: -2px;
  height: 26px;
  @extend .site-menu-handle;
}

/////// TEMPLATE COLLECTION

.template-collection .site-box.box--big {
  background: $bodyBg;
}

.template-collection .box__heading {
  &.box--bigger .site-box-content {
    width: 50%;
    align-self: flex-start;
    padding: 0px 14%;
  }
  &.box--big .site-box-content {
    max-width: none;
    padding: 0;
    width: 45%;
  }
}

.site-filter-handle {

  width: 23px;
  transition: opacity 150ms linear;

  @extend .site-menu-handle;

  #site-nav--mobile.active.show-filters ~ & {
    opacity: 1;
    pointer-events: all;
  }
  #site-nav--mobile.active:not(.show-filters) ~ & {
    opacity: .08;
    pointer-events: none;
  }

}

.search-menu {

  rect {
    transition: transform 150ms linear;
    transform: rotate(0) matrix(0.7071, -0.7071, 0.7071, 0.7071, -9.2844, 19.5856);
  }

  #site-search-handle.hover-in & rect, #site-search-handle.hover & rect {
    transform: rotate(-4deg) matrix(0.7071, -0.7071, 0.7071, 0.7071, -9.2844, 19.5856);
  }
  #site-search-handle.hover-out & rect {
    transform: rotate(0) matrix(0.7071, -0.7071, 0.7071, 0.7071, -9.2844, 19.5856);
  }

  path, rect {
    fill: $textMain;
  }

}

.filter-menu {

  position: absolute;
  width: 30px;
  height: 20px;
  top: 3px;
  left: 0;
  transition: all 150ms linear;

  .bar {

    width: 2px;
    height: 17px;
    background: $logoColor;
    position: absolute;
    transition: all 150ms linear, transform 150ms linear 100ms;

    &:after {
      content: "";
      position: absolute;
      width: 6px;
      height: 3px;
      background: $logoColor;
      left: -2px;
      transition: all 150ms linear;
    }

    &:nth-child(1) {
      &:after {
        top: 11px;
      }
      left: 1px;  
    }
    &:nth-child(2) {
      &:after {
        top: 5px;
      }
      left: 10px;  
    }
    &:nth-child(3) {
      &:after {
        top: 7px;
      }
      left: 19px;  
    }

  }

  .site-filter-handle:hover & .bar, .site-filter-handle.hover & .bar {
    &:nth-child(1):after {
      top: 7px;
    }
    &:nth-child(2):after {
      top: 11px;
    }
    &:nth-child(3):after {
      top: 5px;
    }
  }

  &.active {

    .bar {

      &:nth-child(1) {
        transform: rotate(45deg);
        left: 10px;
        height: 27px;
        top: -4px;
        width: 3px;
      }
      &:nth-child(2) {
        height: 0;
      }
      &:nth-child(3) {
        transform: rotate(-45deg);
        left: 10px;
        height: 27px;
        top: -4px;
        width: 3px;
      }

      &:after {
        width: 0;
        height: 0;
      }

    }

  }
  
}

///// PROUDCT PAGE

.box__product-gallery {

  border-bottom: none !important;

  &.animate {
    transition: all 300ms $easeInOutSine;
  }
  &.expand {
    width: 100%;
  }
  
  .template-product & {
    @include at-query($min, $lap+1) {
      border-bottom: none !important;
    }
  }

  &.expand .gallery-item {
    height: 0 !important;
  }

  &.slider .site-box-content {
    height: 100vh;
  }

  @include at-query($max, $lap) {
    .flickity-enabled .flickity-viewport.has-height-animation {
     transition: height 300ms linear;
    }
    min-height: 0 !important;
    height: auto !important;
    overflow: visible;
    .site-box-content { 
      height: auto !important;
      &:after {
        content: 'flickity';
        display: none;
      }
      &:not(.flickity-enabled) {
       // min-height: 60vh !important;
      }
    }
  }

  .site-box-content.flickity-enabled {
    display: flex;
    flex-direction: column-reverse;
  }

}

// small hp fix
@include at-query($min, $lap+1) {
  .template-index {
    .product--section {
      border-bottom: 1px solid $bodyBgThird;
    }
    .site-box.box__product-content, .product--section.sticky-because .site-box.box__product-gallery {
      border-bottom: none !important;
    }
  }
}

.box__product-content {

  &.animate {
    transition: all 400ms $easeInOutSine;
  }

  background: $bodyBg !important;

  border-left: 1px solid $bodyBgThird;
  margin-left: -1px;

  .product--section &.expand {
    opacity: 0;
  }
  @include at-query($min, $lap+1) {
    .product--section.fixing-scroll-now &.expand {
      margin-left: 100% !important;
    }
    .product--section:not(.fixing-scroll-now) &.expand {
      transform: translateX(100%) !important;
    }
  }

  .site-box-content {
    padding: 100px 0;
    width: 70%;
    max-width: 800px;
  }

  .product-title {
    font-size: rem(36px);
    margin-bottom: 35px;
    line-height: 1.2;
  }

  .product-vendor {
    @include font-quote();
    opacity: .66;
    margin-bottom: 35px;
    margin-top: -15px;
    font-size: rem(16px);
  }

  .price {
    font-weight: $bodyFontBoldWeight;
  }
  .product-price {
    font-size: rem(18px);
    opacity: .92;
  }
  .compare-price {
    font-size: rem(14px);
    text-decoration: line-through;
    opacity: .66;
    padding-left: 25px;
  }

  .rte {
    margin-top: 50px;
    opacity: .92;
  }

  select:not(.styled) {
    display: none;
  }

  // responsive

  @include at-query($min, $lap+1) { 
    //position: fixed;
    //margin-left: 50%;
  }
  @include at-query($max, $lap) {
    text-align: center;
    .site-box-content {
      margin: 60px 0 !important;
      padding: 0;
    }
  }
  @include at-query($max, $palm) {
    .site-box-content {
      width: 90%;
    }
    h1 {
      font-size: rem(28px);
      line-height: 1.2;
    }
  }


}

.product--add-to-cart-form {

  .product-variant {
    margin-top: 40px;
  }

  label {
    font-size: rem(13px);
    font-weight: $bodyFontBoldWeight;
    text-transform: uppercase;
    margin-bottom: 12px;
    &:after {
      content: ":";
    }
  }

  &.style--classic {

    label {
      display: block;
    }
    .product-variant {
      display: inline-block;
      &:not(:first-of-type) {
        margin-left: 30px;
      }
    }

    .cart-functions {
      //margin-top: 65px;
    }

  }

  &.style--minimal {

    ul {
      margin: 0 0 0 20px;
      display: inline-block;
      font-size: rem(13px);
    }

    li {

      margin: 0;
      display: inline-block;
      height: 18px;
      min-width: 18px;
      margin: 0 6px;
      position: relative;
      cursor: pointer;
      text-align: center;
      opacity: .66;


      padding: 3px;
      min-width: 21px;
      height: 21px;
      border: 1px solid $bodyBgThird;

      &.active:not(.disabled), &:focus {
        border-color: $textMain;
        opacity: 1;
      }

      &:hover:after, &.hover:after {
        opacity: .66;
      }
      &.active:not(.disabled) {
        opacity: 1;
        &:after {
          opacity: .92;
        }
      }
      &.disabled {
        opacity: .12 !important;
        text-decoration: line-through;
        pointer-events: none;
      }

      span {
        display: block;
        margin-top: -4px;
      }

      &:focus {
        outline: none !important;
      }

    }

    ul.color-true li {

      text-indent: -9999px;
      opacity: 1;
      top: -11px;

      span {
        width: 100%;
        height: 100%;
        margin-top: 0;
        font-size: 0;
      }

      &:after {
        display: none;
      }

    }

  }

}

.add-to-cart-text {

  .preloader {

    opacity: 1;
    position: relative;
    top: auto;
    left: auto;
    margin: 0;

    span {
      background: #fff;
      top: 23px;
      position: relative;
    }

  }

}

.quantity-selector {

  width: 55px;
  padding: 0 !important;
  text-align: center;
  margin-right: 25px !important;
  position: relative;
  top: -2px;

  &::-webkit-inner-spin-button, &::-webkit-outer-spin-button { 
    -webkit-appearance: none; 
    margin: 0; 
  }

}

@include at-query($min, $lap+1) {
  .box__product-gallery.slider {
    height: 100vh;
    min-height: 0;
    .product--section.sticky-because & {
      border-bottom: 0 !important;
    }
  }
}

.gallery-item {

  height: 100vh;
  
  .box__product-gallery[data-images-aspect="fit"] & {
    &[data-product-media-type="image"] {
      height: 0;
      img {
        position: absolute;
        top: 0;
        left: 0;
      }
    }
  }

  .box__product-gallery.scroll &:not([data-product-media-type="image"]) {
    height: auto !important;
  }
  @include at-query($min, $lap+1) {
    
    .box__product-gallery.slider & {
      &[data-product-media-type="image"] {
        height: 100% !important;
        padding: 0 !important;
      }
      .template-product &:not([data-product-media-type="image"]) {
        height: calc(100% - 78px);
      }
      .mount-featured-product &:not([data-product-media-type="image"]) {
        height: 100%;
      }
    }

    .box__product-gallery[data-images-aspect="fill"] & {
      padding: 0 !important;
      height: 100vh;
    }

    .box__product-gallery.slider[data-images-aspect="fit"] & {
      /*.template-product &[data-product-media-type="image"] {
        height: calc(100% - 78px);
      }*/
      img {
        object-fit: contain;
        font-family: "object-fit: contain";
      }
    }

  }

  @include at-query($max, $lap) {
    .box__product-gallery[data-images-aspect="fill"] & {
      &[data-product-media-type="image"] {
        height: 0;
        img {
          position: absolute;
          top: 0;
          left: 0;
        }
      }
    }
    &:not([data-product-media-type="image"]) {
      height: auto !important;
      .box--product-media {
        transform: none !important;
      }
    }
    &[data-product-media-type="image"] img {
      margin: 0 !important;
      transform: none !important;
    }
  }

  @media screen and (orientation: landscape) {
    .animate & {
      transition: all 300ms $easeInOutSine;
    }
    .expand & {
      height: 100vh;
    }
  }

  &:focus {
    outline: none !important;
  }

}
.gallery-index {

  .box__product-gallery[data-show-progress="false"] & {
    display: none !important;
  }

  position: absolute;
  bottom: 0;
  left: 0;
  z-index: 99;
  width: calc(50% - 1px);
  height: 5px;
  line-height: 1;
  cursor: default;

  .current {
    background: $textMain;
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    .box__product-gallery.scroll .site-box-content:not(.flickity-enabled) & {
      transition: width 200ms ease-in-out;
    }
  }

  &.animate {
    transition: all 300ms $easeInOutSine;
  }

  //.box--can-stick.fixing-scroll-now & {
    position: fixed;
  //}

  @include at-query($max, $lap) {
    display: none;
  }

  @include sidebar-transition(transform);
  body.sidebar-move & {
    transform: translateX(-480px);
    @include at-query($max, '640px') {
      transform: translateX(-320px);
    }
  }

  .template-index .site-box-content:not(.flickity-enabled) + & {
    display: none !important;
  }

  &.out-with-you {
    bottom: -10px !important;
  }

}
.flickity-page-dots {

  @include at-query($min, $lap+1) {
    display: none;
  }

  bottom: -30px;
  
  .dot {

    background: transparent;
    opacity: .66;
    border: 1px solid $textMain;
    transition: all 150ms linear;
    margin: 0 4px;
    width: 9px;
    height: 9px;

    &.is-selected {
      opacity: .66;
      background-color: $textMain;
    }

  }


}

.flickity-custom-nav {

  width: 46px;
  height: 46px;
  background: $bodyBg;
  border: 1px solid $bodyBgSecond;
  display: block;
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  margin-top: -39px;
  z-index: 9;
  &.prev {
    left: 0;
    border-left-color: transparent;
  }
  &.next {
    right: 0;
    border-right-color: transparent;
  }

  .box__product-gallery .site-box-content:not(.flickity-enabled) & {
    display: none;
  }

  @include at-query($max, $lap) {

    top: auto;
    bottom: -45px;
    margin-top: 0px;
    transform: none;
    border: none;
    background: transparent;
    opacity: .66;

    &:focus {
      opacity: 1;
      outline: none !important;
    }

  }

  @include at-query($min, $lap+1) {
    &:focus {
      outline: none !important;
    }
    &.hover {
      box-shadow: 0 0px 6px rgba(0,0,0,.24);
    }
  }

  svg path {
    fill: $textMain;
  }

}


.slider-nav svg * {
  fill: $textMain;
}

.icon-go {

  position: absolute;
  overflow: hidden;
  cursor: pointer;
  top: 1px;
  width: 42px;
  height: 20px;
  transition: all 150ms linear;

  svg {
    margin-left: -25px;
    margin-top: 5px;
    display: block;
    transition: all 150ms linear;
    * {
      fill: $textMain;
    }
  }

  &:hover svg, &.hover svg {
    margin-left: 0;
  }

  &.go-next {
    text-align: right;
    right: -38px;
  }
  &.go-prev {
    text-align: left;
    left: -38px;
    transform: rotate(180deg);
  }
  &.go-down {
    transform: rotate(90deg);
    top: 100%;
    left: 50%;
    right: auto;
    margin-left: -20px;
    margin-top: 5px;
    z-index: 999;
    opacity: .66;
    svg {
      margin-left: -35px;
    }
  }

}
.site-nav li.has-submenu a.hover .icon-go, .site-nav li.has-submenu a:hover .icon-go {
  svg {
    margin-left: 0;
    * {
      fill: $bodyAcc;
    }
  }
}

.site-nav li.has-submenu.active, .site-nav li.has-babymenu.active {
  > a > .icon-go polygon {
    transform: rotate(180deg) translateX(-86%);
    transform-origin: center;
  }
}

.site-nav li.has-submenu:hover .icon-go.go-down, .site-nav li.has-submenu.hover .icon-go.go-down {
  margin-top: 15px;
}
.site-nav li.has-submenu > a.active > .icon-go svg *, .site-nav.style--classic li.has-babymenu > a.active .icon-go svg *  {
  fill: $bodyAcc;
}

.product-zoom {

  position: absolute;
  top: 0;
  right: 0;
  width: 46px;
  height: 46px;
  padding: 5px;
  margin: 0;
  background: $bodyBg;
  border: 1px solid rgba($textMain, .12);
  z-index: 666;
  cursor: pointer;

  &.product-zoom-in {
    right: -2px;
  }
  .box__product-gallery.scroll .site-box-content:not(.flickity-enabled) .gallery-item:first-of-type &.product-zoom-in {
    top: -1px;
    @media screen and (min-width: 769px) and (orientation: landscape) {
      top: 0;
    }
  }

  &.no-sharing {
    left: 70px;
  }

  .no-touchevents &:hover, .no-touchevents &.hover {
    polyline:nth-child(1) {
      transform: scale(0.9) translate3d(-2px, -2px, 0); 
    }
    polyline:nth-child(2) {
      transform: scale(0.9) translate3d(2px, -2px, 0); 
    }
    polyline:nth-child(3) {
      transform: scale(0.9) translate3d(2px, 2px, 0); 
    }
    polyline:nth-child(4) {
      transform: scale(0.9) translate3d(-2px, 2px, 0); 
    }
  }

  polyline {
    transform: scale(0.9);
    transform-origin: center;
    transition: transform 150ms linear;
    fill: $textMain;
  }

  span {
    position: absolute;
  }

  transition: transform 500ms $easeInOutQuad, right 300ms $easeInOutSine;

}
// quick hack for product zoom border
.gallery-item[data-image-zoom] + .gallery-item:after {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 1px;
  height: 46px;
  background: rgba($textMain, .12);
  z-index: 9;
}

#product-zoomed-image {

  position: fixed;
  left: 0;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 7777;
  overflow: scroll;
  display: none;
  -webkit-overflow-scrolling: touch;

  &::-webkit-scrollbar {
    width: 0 !important;
    height: 0 !important;
  }  
  scrollbar-width: none; 
  -ms-overflow-style: none; 

  img {
    opacity: 0;
    max-width: none;
    position: absolute;
    top: 0;
    left: 0;
    transition: opacity 200ms linear;
  }

  &:after {

    content: "";
    width: 0;
    height: 2px;
    position: absolute;
    top: 50%;
    background: $textMain;
    margin-top: -25px;
    z-index: -1;

    animation-name: progress-bar;
    animation-duration: 1.5s;
    animation-iteration-count: infinite;
    animation-timing-function: linear;

    display: none; // ?!

  }

  .product-zoom {
    position: fixed;
  }

}

@keyframes progress-bar {
  0% {
    width: 0;
    left: 50%;
    right: auto;
    margin-right: 0;
    margin-left: -25px;
  }
  44.9% {
    width: 50px;
    left: 50%;
    right: auto;
    margin-right: 0;
    margin-left: -25px;
  }
  45% {
    width: 50px;
    left: auto;
    right: 50%;
    margin-left: 0;
    margin-right: -25px;
  }
  90% {
    width: 0;
    right: 50%;
    left: auto;
    margin-left: 0;
    margin-right: -25px;
  }
}

//

.variant-quantity {
  opacity: .66;
  margin-top: 20px;
  display: inline-block;
  background: $bodyBgThird;
  font-size: 13px;
  line-height: 18px;
  padding: 7px 10px 4px;
  &:empty {
    display: none;
  }
}

.regular-select-cover {

  height: 54px;
  width: 100% !important;
  font-size: 15px;
  line-height: 15px;
  cursor: pointer;
  background: $bodyBgThird;
  text-align: left;

  svg {
    position: absolute;
    top: 25px;
    right: 17px;
    fill: $textMain;
    opacity: .42;
    transition: all 150ms linear;
  }

  select {
    height: 56px !important;
    width: 100%;
    cursor: pointer;
    -webkit-appearance: menulist-button;
  }

  option {
    padding: 2px 0;
  }

  &:hover, &.hover {
    .regular-select-inner {
      opacity: .92;
    }
    svg {
      opacity: .66;
    }
  }

  &.focus {
    outline: 2px solid darken($bodyBgThird, 5%);
    svg * {
      fill: $textMain;
    }
  }

}

.regular-select-inner {
  height: 54px;
  padding: 20px 50px 0px 20px;
  cursor: pointer;
  opacity: .66;
  cursor: pointer;
  font-weigt: 600;
  transition: all 150ms linear;
  .simple-grid & {
    color: $textMain;
    opacity: 1;
  }
}

.simple-select-cover {

  cursor: pointer;
  background: transparent;

  .svg {

    position: absolute;
    top: 4px;
    right: 0;

    .ie8 & {
      top: -1px;
    }

  }

  select {
    height: 100%;
    width: 110%;
    left: -5px !important;
    cursor: pointer;
    -webkit-appearance: menulist-button;
  }

  option {
    padding: 2px 5px;
  }

}
.simple-select-inner {
  cursor: pointer;
  padding-right: 24px;
}

@media screen and (min-width: $lap+1) and (orientation: landscape) {
  
  .template-index .mount-product {

    .box__product-content .fix-me-with-margin {
      margin-top: 0 !important;
    }
    .box__product-gallery {
      //border-top: 1px solid $bodyBgThird;
    }

  }

}
///

#breadcrumb {

  font-size: rem(13px);
  z-index: 99;
  margin-bottom: 30px;

  a {
    opacity: .92;
  }
  span {
    opacity: .66;
    &[aria-hidden] {
      padding: 0 14px;
    }
  }

}

#section-related-products {
  .box__collection:last-child {
    display: none;
  }
  @include at-query($max, $palm) {
    .box__collection:last-child {
      display: flex;
    }
  }
  .box__heading {
    border-top: 1px solid $bodyBgThird;
    margin-top: -1px;
    z-index: 9;
  }
}

#site-filters {

  .option {
    margin-bottom: 50px;
  }

  .option label {
    opacity: .92;
    font-weight: $bodyFontBoldWeight;
    margin-bottom: 25px;
    display: block;
  }

  .option-children:not(:first-child) {
    margin-top: 30px;
  }

}

@keyframes blink {
  0% {
    opacity: .5;
  }
  20% {
    opacity: 1;
  }
  100% {
    opacity: .5;
  }
}

.preloader {

  position: absolute;
  top: 50%;
  left: 50%;
  margin-top: -3px;
  margin-left: -13px;
  z-index: 99999;
  opacity: 0;
  transition: all 150ms linear;
  pointer-events: none;

  &.all-aboard {
    opacity: 0;
  }

  .sidebar-opened & {
    margin-left: 260px;
  }

  span {

    text-indent: -9999px;
    width: 5px;
    height: 5px;
    display: inline-block;
    background: $textMain;
    margin: 0 2px;
    border-radius: 100%;

    animation-name: blink;
    animation-duration: .9s;
    animation-iteration-count: infinite;
    animation-fill-mode: both;

    &:first-child {
      padding-left: 2px;
    }

    &:nth-child(2) {
      animation-delay: .3s;
    }

    &:nth-child(3) {
      animation-delay: .6s;
    }

  }

  .top & {
    top: 20px;
    left: 0;
    margin: 0;
  }

}

.hidden {
  display: none;
}

//// CART

.site-box.box__cart {
  padding: 0 7.5%; 
  border-left: 1px solid $bodyBgThird;
  .site-box-content {
    width: 100%;
    padding: 100px 0;
  }
}

.cart {
  width: 100%;
}

.cart-item {

  display: flex;
  margin-bottom: 50px;
  align-items: center;
  position: relative;
  padding-right: 100px;

  #site-cart & {
    margin-bottom: 40px;
  }

  .thumbnail {

    display: block;
    width: 120px;
    height: 120px; 
    background: $bodyBgSecond;
    position: relative;
    img {
      transition: opacity 150ms linear, transform 250ms linear;
      opacity: 0;
      &.lazyloaded {
        opacity: 1;
      }
    }

    #site-cart & {
      width: 90px;
      height: 90px;
    }
  }

  .content {

    #site-cart & {
      margin-left: 25px;
      font-size: rem(13px);
    } 
    margin-left: 20px;

    .title {
      font-weight: $bodyFontBoldWeight;
      text-transform: uppercase;
      display: block;
    }
    .price {
      display: block;
    }
    small {
      font-size: rem(12px);
      text-transform: uppercase;
      opacity: .66;
      display: block;
      margin-top: 5px;
    }

  }

  .qty {

    width: 45px;
    height: 45px !important;
    border: none !important;
    text-align: center;
    opacity: .92;
    display: inline-block;

    &::-webkit-inner-spin-button, &::-webkit-outer-spin-button { 
      -webkit-appearance: none; 
      margin: 0; 
    }

  }

  .no-qty {
    position: absolute;
    right: 0;
    font-weight: $bodyFontBoldWeight;
    opacity: .66;
  }

  .actions {
    display: flex;
    position: absolute;
    right: -15px;
  }

  .remove {
    display: inline-block;
    width: 45px;
    height: 45px;
    svg * {
      fill: $textMain;
    }
  }

}

@include at-query($max, '640px') {

  #site-cart .cart-item {
    padding-right: 40px;
    align-items: flex-start;
  }

  #site-cart .cart-out div > * {
    width: 100%;
    display: block;
    margin-bottom: 10px;
  }

}

#cartSpecialInstructions {
  margin-bottom: 40px;
}

.cart-out {

  span {
    font-size: rem(28px);
    font-weight: $bodyFontBoldWeight;
  }

  small {
    font-size: rem(11px);
    opacity: .66;
    position: relative;
    top: -20px;
  }

}

// RESPONSIVE ?!

@include at-query($max, $portable) {

  .site-header {
    padding: 20px 30px !important;
    border-bottom: 0;
    box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.08);
    top: 0 !important;
  }

  .site-header.fix.ready {
    transition: right 250ms linear, transform 100ms linear;
  }

}

#js-helpers, #fix-me-header, #fix-me-collection {
  display: none;
}
@include at-query($min, $lap+1) {
  .site-header.desktop-view--classic #fix-me-header {
    display: block;
  }
}
.site-header.desktop-view--minimal #fix-me-header {
  display: block;
}
@include at-query($max, $lap) {
  .container--fullscreen > .site-box:nth-child(2):not(.box__product-content) {
    > .site-box-content {
      margin-top: 0 !important;
    }
  }
}

@include at-query($max, '640px') {

  .site-nav.style--sidebar {
    width: 320px;
  }
  .site-nav.style--sidebar .site-nav-container-last {
    padding-top: 40px;
    padding-left: 30px;
    padding-right: 30px;
  }
  .site-nav.style--sidebar .site-nav-container {
    width: 100%;
  }
  .site-close-handle {
    top: 35px;
    right: 25px;
  }

}

@include at-query($max, $palm) {
  
  .site-header {
    padding: 14px 30px !important;
  }
  .site-menu-handle {
    margin: 10px 8px 0;
  }
  .logo-img img {    
    max-width: 130px;
    max-height: 40px;
  }

}



/// BLOG PAGE ELEMENTS

.post.onboard {
  max-width: 600px;
  padding: 0 15%;
}

.post-navigation {

  font-weight: $bodyFontBoldWeight;
  margin-top: 45px;

  .left {
    svg {
      transform: rotate(180deg);
      margin-right: 10px;
    }
  }
  .right {
    svg {
      margin-left: 10px;
    }
  }

  .left + .right {
    margin-left: 65px;
    display: inline-block;
    @include at-query($max, $lap) {
      margin-left: 25px;
    }
  }
  
  svg * {
    fill: $textMain;
  }
  a:hover svg *, a.hover svg * {
    fill: $bodyAcc;
  }

}

#comments.comments {

  margin-top: 95px;

  .comment {

    &:not(:last-child) {
      margin-bottom: 50px;
      padding-bottom: 50px;
      border-bottom: 1px solid $bodyBgThird;
    }

    span {
      font-size: rem(13px);
      display: inline-block;
    }

  }

}

.form-vertical {
  margin-top: 95px;
  .template-page-contact & {
    margin-top: 0;
  }
  .template-page-contact .rte + & {
    margin-top: 95px;
  }
}

.hidden-label {
  position: absolute; 
  overflow: hidden; 
  clip: rect(0 0 0 0); 
  height: 1px; width: 1px; 
  margin: -1px; padding: 0; border: 0; 
}

.simple-grid {

  width: calc(100% + 30px);
  margin-left: -15px;
  @include clearfix();
  
  .grid__item, .errors {
    float: left;
    width: 100%;
    margin-bottom: 30px;
    padding: 0 15px;
    position: relative;
  }

  .regular-select-content {
    max-height: 300px !important;
  }

  .helper {
    display: inline-block;
    position: relative;
    top: 10px;
  }

  .errors {
    color: red;
  }

  .divider {
    height: 100px;
    float: left;
    width: 100%;
    @include at-query($max, $lap) {
      height: 50px;
    }
  }

  label {
    font-size: rem(14px);
    padding-bottom: 5px;
    display: inline-block;
  }

  .grid__item:last-child {
    margin-bottom: 0;
  }

  input[type="submit"]:last-child {
    margin-top: 20px;
  }
  
}

.push-a-bit {
  margin-top: 45px;
  svg {
    transform: rotate(180deg);
    margin-right: 15px;
  }
}

@mixin simple-grid($namespace: "") {

  .simple-grid {

    $prefix: '.' + $namespace;

    #{$prefix}one-whole {
      width: 100%;
    }
    #{$prefix}one-half {
      width: 50%;
    }
    #{$prefix}one-third {
      width: 33.33%;
    }
    #{$prefix}one-quarter {
      width: 25%;
    }

  }

}

@include simple-grid();
@include at-query($max, $portable) {
  @include simple-grid('portable--');
}
@include at-query($max, $lap) {
  @include simple-grid('lap--');
}
@include at-query($max, $palm) {
  @include simple-grid('palm--');
}

.note {
  @include font-quote();
  font-size: rem(16px);
}

.contact-map-holder, .contact-map-object {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}
.contact-map-object > div {
  background: $bodyBg !important;
}

// SERACH RESSTUL

.search-results {
  
  .search-results-title {
    font-size: rem(14px);
    opacity: .66;
    margin-bottom: 55px;
  }

  .search-item {

    display: flex;
    margin-bottom: 50px;
    align-items: center;
    position: relative;

    #site-search & {
      margin-bottom: 40px;
    }

    .thumbnail {

      display: block;
      width: 100px;
      height: 120px;
      position: relative;
      overflow: hidden;

      &:after {
        display: block;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0, .1);
        transition: opacity 250ms linear;
        opacity: 0;
        content: "";
      }

      &.no-image:after {
        background: $bodyBgSecond;
        opacity: 1;
      }

      #site-search & {
        width: 85px;
        height: 102px;
      }

      img {
        vertical-align: middle;
        transition: transform 250ms linear;
      }

    }

    &:hover .thumbnail, &.hover .thumbnail {
      &:after {
        opacity: 1;
      }
      img {
        transform: scale(1.025);
      }
    }

    .content {

      display: flex;
      flex-direction: column;

      #site-search & {
        margin-left: 25px;
        width: calc(100% - 110px);
      } 
      margin-left: 35px;
      width: calc(100% - 135px);

      .title {
        font-weight: $bodyFontBoldWeight;
        text-transform: uppercase;
        display: block;
        order: 2;
        #site-search & {
          font-size: rem(13px);
        } 
      }
      .caption {
        opacity: .66;
        display: block;
        margin-top: 8px;
        font-size: rem(13px);
        order: 3;
      }
      .type {
        font-size: rem(10px);
        font-weight: $bodyFontBoldWeight;
        opacity: .66;
        text-transform: uppercase;
        margin-bottom: 12px;
        #site-search & {
          margin-bottom: 8px;
        } 
        order: 1;
      }

    }

  }

}

.template-article .tags {
  @include font-quote();
  .tag:not(:last-child):after {
    content: ", ";
  }
}

@include at-query($max, $lap) {
  .template-article .box__heading .site-box-content {
    margin-top: 0 !important;
  }
}
//

#section-search .search-bar {

  input[type="search"] {
    width: calc(100% - 54px);
    float: left;
  }

  button {
    background: $textMain;
    width: 54px;
    padding-top: 8px;
    height: 54px;
    svg * {
      fill: $bodyBg;
    }
  }

}

.pagination {

  .template-article & {
    margin-top: 50px;
  }

  margin-left: -5px;
  width: calc(100% + 30px);

  span {

    margin: 0 7px;
  
    &.page {
      position: relative;
      top: 1px;
    }
    &.page a {
      opacity: .66;
    }

    a:hover, a.hover {
      color: $bodyAcc;
      opacity: 1;
      svg * {
        fill: $bodyAcc;
      }
    }

    &.current {
      font-weight: $bodyFontBoldWeight;
      cursor: default;
    }

    &.prev {
      transform: rotate(180deg);
      display: inline-block;
      margin-right: 14px;
    }

    &.next {
      display: inline-block;
      margin-left: 14px;
      position: relative;
      top: 1px;
    }

  }

  #site-search & {
    display: none;
  }

  span.prev {

  }

}

.new-block {
  margin-top: 90px;
}

.order-table {

  width: 100%;
  border: none;

  thead, tr {
    border: none;
  }

  td {
    text-align: left;
    border: none;
    font-size: rem(13px);
    opacity: .66;
    min-height: 20px;
    &:first-child {
      padding-left: 0;
    }
  }

  th {
    @extend td;
    text-transform: uppercase; 
    padding-bottom: 15px;
    font-size: rem(11px);
    font-weight: $bodyFontBoldWeight;
    opacity: .66;
    max-width: 120px;
  }

  tbody td:first-child {
    opacity: 1;
    font-weight: $bodyFontBoldWeight;
  }

  tfoot tr:first-child td, tfoot tr:last-child td {
    padding-top: 10px;
  }

  &.o-order tfoot tr:first-child td {
    padding-top: 40px;
  }

  tbody {

    tr {

      border-bottom: 1px solid $bodyBgSecond;
      display: block;
      margin-bottom: 20px;
      padding-bottom: 20px;
      width: 100%;

      &:last-child {
        margin-bottom: 0;
      }

    }

    td {

      position: relative;
      width: 100%;
      display: block;
      padding: 0 0 0 40% !important;
      text-align: right !important;

      span.label {
        position: absolute;
        top: 7px;
        left: 0;
        width: 45%;
        white-space: nowrap;
        display: block;
        font-size: rem(11px);
        line-height: 1;
        font-weight: $bodyFontBoldWeight;
        text-transform: uppercase;
        text-align: left;
      }

    }

  }

  .template-customers-order & tfoot .text-right {
     width: 50%;
     text-align: right;
  }

  &.o-order tfoot {
    display: inline-table;
    width: 100%;
    margin-top: 20px;
  }

}

.simple-address {
  opacity: .66;
}

////

.product-badge {

  position: absolute;
  top: 0;
  left: 0;
  font-size: rem(13px);
  line-height: 1;
  padding: 17px 23px 16px;
  background: $bodyBgThird;
  text-transform: uppercase;
  font-weight: $bodyFontBoldWeight;
  z-index: 99;
  color: $textMain !important;

  &.sold span {
    opacity: .66;
  }

  .box__product-content & {

    position: relative;
    display: inline-block;
    padding: 8px 10px 7px;
    margin-right: 20px;
    margin-top: 2px;

    &.sold {
      display: none;
    }

  }

}

// # i hate ie

.remove-min-height {
  min-height: 0 !important;
}

@include at-query($max, $lap) {
  .mount-slideshow {
    margin-top: 0 !important;
  }
}

@include at-query(null, $lap+1, $portable) {

  .mount-slideshow {
    margin-top: 0 !important;
    .fix-me-with-margin {
      margin-top: -32px !important;
    }
  }

  .slider-meta {

    z-index: 99;
    width: 110px !important;
    padding: 0 !important;
    left: 12.5% !important;
    bottom: 10px !important;

    &.active {
      display: block !important;    
    }
    
    .slider-index {
      position: absolute;
      left: 40px;
    }
    .slider-nav {
      width: 100%;
      left: 0px;
      right: auto;
    }
    .go-prev {
      position: absolute;
      left: 0;
      margin: 0;
      overflow: hidden;
      width: 21px;
    }
    .go-next {
      position: absolute;
      right: 0;
      width: 21px;
      overflow: hidden;
      margin-left: -10px;
    }

  }

  .site-box.box__slideshow-split .slideshow-item {
    .caption {
      margin-bottom: 55px;
    }
    .subtitle {
      margin-top: 35px;
    }
    .title + .button {
      margin-top: 45px;
    }
    .button {
      margin-top: 15px;
    }
  }

}

@media screen and (min-width: $lap+1) and (orientation: landscape) {
  #fix-me-collection {
    display: block;
  }
}



@include at-query($min, $lap+1) {
  .site-box.box__product-content {
    position: -webkit-sticky;
    position: sticky;
    top: 50px;
    border-bottom: 0;
  }
}
@include at-query($min, $portable+1) {
  .site-box.box__product-content,
  .spr-header,
  .box--can-stick .box__heading {
    position: -webkit-sticky !important;
    position: sticky !important;
    top: 50px;
    border-bottom: 0;
  }
  .spr-header {
    top: 0;
    border-top: 1px solid $bodyBgThird;
    margin-top: -2px;
  }
} 
@media screen and (min-width: 1025px) {
  .box__product-gallery[data-images-aspect="fill"] .gallery-item {
    padding: 0 !important;
    height: 100vh;
  }
  .box__product-gallery[data-images-aspect="fit"] .flickity-viewport {
    height: 100% !important;
    .gallery-item {
      top: 50%;
      transform: translateY(-50%);
    }
  }
}
/*@include at-query($min, $lap+1) {
  .site-box.box__product-gallery {
    position: -webkit-sticky;
    position: sticky;
    top: 0;
    border-bottom: 0;
    min-height: 0;
    content: "fix-me-also";
  }
}*/

.out-with-you {
  bottom: -100px !important;
  opacity: 0 !important;
}
.animate-owy {
  transition: all 300ms linear;
  top: auto !important;
}

// popup

#shopify-section-popup {

  position: fixed;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  z-index: 9999;
  background: rgba(0,0,0,.7);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  visibility: hidden;
  transition: all 250ms linear;

  &.active {
    opacity: 1;
    visibility: visible;
  }

  @media screen and (max-width: $lap) {
    display: none !important;
  }

}

.popup-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
}

.popup-content {

  align-items: center;
  display: flex;
  position: relative;
  max-width: 960px;
  max-height: 600px;
  width: 100%;
  height: 100%;
  top: 0;
  left: 0;
  background: #fff;
  transform: translateY(50px);
  opacity: 0;
  transition: all 300ms linear 50ms;
  z-index: 9;
  overflow: hidden;

  .shopify-section.active & {
    opacity: 1;
    transform: translateY(0);
  }
  &.no-content, &.no-image {
    max-width: 480px;
  }
  
  input[type="submit"] {
    top: 1px;
  }

  @include at-query(null, $lap, $portable) {
    width: 85%;
    height: 80%;
    .popup-text {
      padding: 6%;
    }
    .site-close-handle {
      top: 20px;
      right: 20px;
    }
  }

  @include at-query($max, $portable) {
    input[type="email"] {
      width: 100%;
    }
    input[type="submit"] {
      margin-top: 10px;
    }
  }

  @media screen and (max-width: 768px) and (min-width: 480px) {
    width: 100%;
    height: 340px;
    box-shadow: 0 5px 15px rgba(0,0,0,.1);
    .popup-image {
      padding-top: 36.5%;
    }
    .popup-text {
      padding: 0 3%;
    }
    .popup-title {
      font-size: rem(24px);
      + .rte {
        margin-top: 15px;
      }
    }
    .rte {
      font-size: rem(14px);
    }
    .footer-content {
      margin-top: 15px;
    }
    .site-close-handle {
      top: 20px;
      right: 20px;
    }
  }

}
.popup-image {
  padding-top: 62.5%;
  max-width: 480px;
  width: 50%;
  height: 100%;
  position: relative;
  .no-content & {
    width: 100%;
  }
  div {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-position: center;
    background-size: cover;
    background-repeat: no-repeat;
  }
}
.popup-text {
  max-width: 480px;
  width: 50%;
  padding: 6%;
  .rte {
    opacity: .66;
  }
  .no-image & {
    width: 100%;
    padding: 12%;
  }
}
.popup-title {
  font-size: rem(40px);
  line-height: 1.15;
  + .rte {
    margin-top: 45px;
  }
}
.popup-content .footer-content {
  margin-top: 35px;
}

.add-buttons {
  margin-top: 20px;
  display: block;
  > * {
    margin-left: 0 !important;
    margin-right: 10px !important;
  }
}
.additional-checkout-button--apple-pay[style="display: none"] + button {
  margin-left: 0;
}

.template-page-fullwidth #section-page {

  .box__heading {

    width: 100%;
    height: auto !important;
    min-height: 0 !important;
    position: relative;
    top: auto !important;
    padding: 150px 0 50px !important;
    border: none;

    .site-box-content {

      margin-top: 0 !important;
      width: 70% !important;
      max-width: 80%;

      @include at-query($max, $portable) {
        max-width: 100%;
        width: 100% !important;
        padding-left: 30px !important;
        padding-right: 30px !important;
      }

      &:after {
        margin-left: 0 !important;
        margin-right: 0 !important;
      }

    }

    @include at-query($max, $portable) {
      padding: 100px 0 0 0 !important;
    }

    .title {
      font-size: 5vw;
      text-align: left !important;
    }

  }

  .box__text {
    width: 100%;
    border: none;
    @include at-query($max, $portable) {
      .site-box-content {
        max-width: 100%;
        width: 100%;
        padding-left: 30px;
        padding-right: 30px;
      }
    }
  }

}

.site-box.box__heading .contact-map-address, .map-info {

  .title {
    @include font-head();
    font-size: rem(13px) !important;
    text-transform: uppercase;
    opacity: 1 !important;
    margin-top: 10px !important;
  }

  .rte {
    margin: 5px 0 !important;
    @include font-body();
  }

  a {
    font-size: rem(13px);
    opacity: 1;
    font-weight: $bodyFontBoldWeight;
    margin: 0 0 5px;
    display: inline-block;
    @include font-body();
  }

}
.box__map {

  .map-info {

    background: $bodyBg;
    position: absolute;
    right: 80px;
    bottom: 80px;
    box-shadow: 5px 5px 20px rgba(0,0,0,.06);
    width: 370px;
    padding: 50px;
    max-height: 70vh;
    overflow-y: scroll;
    text-align: left;

    .title {

      font-size: rem(14px) !important;
      margin-top: 0 !important;
      margin-bottom: 35px;
      text-align: left !important;

      &:after {
        content: "";
        width: 31px;
        height: 3px;
        background: $textMain;
        display: block;
        margin-top: 20px;
      }

    }

    .rte {
      margin-bottom: 0 !important;
      p:last-child {
        margin-bottom: 0;
      }
    }

  }

  @include at-query($max, $lap) {

    border-bottom: 1px solid $bodyBgThird;
    height: auto !important;
    min-height: 0;
  
    .map-info {
      right: auto;
      bottom: auto;
      box-shadow: none;
      width: 100%;
      padding: 50px;
      height: auto;
      max-height: none;
      overflow: hidden;
      position: relative;
    }

    .contact-map-holder {
      height: 50vh;
      position: static;
    }

  }

}

.svg.amex polygon:nth-child(5) {
  display: none;
}

//

.bg-detector {
  position: fixed;
  top: 0;
  width: 250px;
  height: 150px;
}
#bg-detector-l {
  left: 0;
}
#bg-detector-r {
  right: 0;
}

.product--section[data-gallery-size="1"] {

  .flickity-page-dots {
    display: none;
  }

  .box__product-content .site-box-content {
    margin-top: 40px !important;
  }

}

.no-csspositionsticky .box__product-content {
  border-left: none !important;
}

@media screen and (max-height: 640px), screen and (max-width: 480px) {
  .site-box.box__blog .blog-item p.excerpt {
    display: none;
  }
}

/* ----
   Added in v1.0.1
  ---
*/

#section-related-products .box__collection:nth-child(6) {
  display: none;
}
.product--section.sticky-because {
  .site-box.box__product-content {
    position: relative;
    top: 0;
  }
  .site-box.box__product-gallery {
    position: -webkit-sticky;
    position: sticky;
    top: 0;
    border-bottom: 1px solid $bodyBgThird !important;
  }
}

/* ----
   Added in v1.0.2
  ---
*/

.site-header {
  font-weight: $menuFontBoldWeight;
  h1 {
    @include font-menu();
  }
}
.form-vertical .errors {
  color: #de0000;
}

/* ----
   Tabs & toggles addon
  ---
*/

.krown-tabs {

  margin-top: 48px;

  .titles {
    border-bottom: 1px solid $bodyBgThird;
    @extend .clearfix;
  }

  .titles h5 {

    display: block;
    margin: auto;
    font-size: 12px;
    line-height: 60px;
    color: $textMain;
    text-transform: uppercase;
    line-height: 16px;
    padding: 2px 30px 0;
    float: left;
    height: 60px;
    line-height: 60px;
    cursor: pointer;
    opacity: 1;
    font-weight: $bodyFontBoldWeight;
    transition: all 150ms linear;

    &:hover {
      background: $bodyBgSecond;
    }
    &.opened {
      background: $bodyBgThird !important;
      cursor: default;
      pointer-events: none;
    }

  }

  .contents {

    min-height: 110px;
    padding: 30px;
    border: 1px solid $bodyBgThird;
    border-top: none;

    > div {
      display: none;
      &.opened, &:first-child {
        display: block;
      }
    }

    p:last-child {
      margin-bottom: 0;
    }
    figure {
      margin-bottom: 0 !important;
    }

  }

  &[data-design="toggles"] {

    .titles {
      border: none;
    }

    .titles h5 {

      border: 1px solid $bodyBgThird;
      margin-bottom: -1px;
      line-height: 54px;
      float: none;
      width: 100%;
      position: relative;

      .minus, .plus {
        position: absolute;
        top: 50%;
        right: 15px;
        margin-top: -3px;
      }

      &.opened {
        cursor: pointer;
        pointer-events: all;
        .plus {
          display: block;
          .minus {
            display: none;
          }
        }
      }

      + div {
        padding: 18px 30px 20px;
        display: none;
        border: 1px solid $bodyBgThird;
        margin-bottom: -1px;
        p:last-child {
          margin-bottom: 0;
        }
      }

    }

    .contents {
      display: none;
    }

  }

  figure {
    height: 0;
    margin: 10px 0 8px;
    background: rgba($bodyBgThird, .36);
    position: relative;
    img {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      margin: 0;
    }
  }

}

#section-related-products .box__collection:last-child {
  display: flex;
}
#section-related-products .box__collection:nth-child(6) {
  display: none;
}
@include at-query($max, $palm) {
  #section-related-products .box__collection:nth-child(6) {
    display: flex;
  }
}

/* ----
   Added in v1.0.3
  ---
*/

@media screen and (max-width: 768px) {
  .site-footer .site-copyright .lap--show a {
    padding-left: 10px !important;
  }
}

.site-nav.style--classic {

  .submenu li {
    position: relative;
    z-index: 1;
  }

  .babymenu {

    position: absolute;
    padding-top: 30px;
    left: 50%;
    min-width: 100%;

    ul {

      background: $bodyAcc;

      li {
        width: 100%;
        margin: 0 !important;
        text-align: left !important;
        border-bottom: 1px solid rgba(0,0,0,.1);
      }

      a {
        color: $bodyAccTxt !important;
        font-size: rem(13px) !important;
        font-weight: $menuFontRegularWeight !important;
        line-height: 1 !important;
        padding: 19px 22px 17px !important;
        &:hover, &.active {
          background: rgba(0,0,0,.1);
        }
      }
    }

  }

  .has-babymenu {

    .icon-go.go-down {

      margin-top: 10px !important;
      top: 50%;
      left: 100%;
      margin-left: -10px;
      opacity: .92;

      svg {

        margin-left: -35px !important;

        * {
          fill: $textMain;
        }

      }

    }

    &:hover .icon-go.go-down svg * {
      fill: $bodyAcc !important;
    }

  }

}


.site-nav.style--sidebar {

  .icon-go {
    opacity: .92;
    top: 17px !important;
    svg {
      //transform: scale(0.96);
    }
  }

  .has-babymenu a {

    position: relative;

    .icon-go {
      margin-left: -5px !important;
      top: 13px !important;
      left: 100%;

      svg {
        //transform: scale(0.94);
        * {
          fill: $textMain !important;
        }
      }

    }

  }

  .has-babymenu:hover .icon-go.go-down svg * {
    //fill: $bodyAcc !important;
  }
  
  .babymenu {

    padding: 10px 15px 5px 15px;
    display: none;

    li {
      margin-bottom: 0;
    }

    a {
      font-size: rem(12px) !important;
    }

  }

}

@include at-query($max, $lap){
  body.sidebar-move {
    overflow: hidden;
  }
}

.site-nav.style--sidebar ul:not(.submenu) > li a.active {
  color: $bodyAcc;
} 
.site-nav.style--sidebar .has-babymenu > a.active {
  opacity: 1 !important;
}
.site-nav.style--sidebar .babymenu li > a.active {
  opacity: 1 !important;
  color: $textMain !important;
}

#product-zoom-in:not(.animate-owy) {
  @include at-query($max, $lap) {
    opacity: 0 !important;
  }
}

.mount-collectionlist .box__heading .site-box-content {
  text-align:center;
  &:after {
    margin-left: auto;
    margin-right: auto;
  }
}

.ll-fallback {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center;
}
.box--product-image {
  position: relative;
}

.block-heading {
  font-size: rem(32px);
  margin-bottom: 40px;
  &:after {
    content: "";
    display: block;
    margin-top: 25px;
    background: $textMain;
    width: 40px;
    height: 3px;
  }
  @include at-query($max, $palm) {
    font-size: rem(22px);
  }
}

/* Payment buttons styling */

.cart-functions {

  display: flex;
  flex-flow: row wrap;
  justify-content: stretch;
  width: calc(100% + 24px);
  margin-left: -12px;
  margin-top: 0;

  button[type="submit"].disabled + .shopify-payment-button {
    display: none;
  }
  > button[type="submit"].disabled {
    width: 100%;
  }

  @include at-query($max, $portable) {
    justify-content: center;
  }

  .quantity-selector {
    margin: 26px 12px 0 !important;
    top: -1px;
    width: 57px;
  }
  .quantity-selector-holder {
    width: 100%;
    margin: 26px 12px 0;
    position: relative;
  }
  &.payment-button--true .quantity-selector {
    width: 100%;
    margin: 0 !important;
    top: 0;
  }
  .qty-button {
    width: 55px;
    height: 55px;
    line-height: 55px;
    position: absolute;
    top: 0;
    cursor: pointer;
    font-size: rem(15px);
    z-index: 9;
    svg {
      opacity: .42;
    }
    &.disabled {
      cursor: default;
      svg {
        opacity: .12;
      }
    }
    &.qty-minus {
      left: 0;
      border-right: 1px solid rgba($textMain, .12);
    }
    &.qty-plus {
      right: 0;
      border-left: 1px solid rgba($textMain, .12);
    }
  }

  &.payment-button--true .button {

    background: transparent;
    color: $textMain !important;
    border-color: $textMain;

    &:hover {
      background: $bodyAcc;
      color: $bodyAccTxt !important;
      border-color: transparent;
    }

  }

  .button, .shopify-payment-button {
    min-width: 200px;
    flex: auto;
    margin: 26px 12px 0;
  }

}

.shopify-payment-button {
  display: inline-block;
  position: relative;
  top: -1px;
}
.shopify-payment-button__button {
  border-radius: 0 !important;
  height: 55px;
  line-height: 53px !important;
  width: 100% !important;
  text-transform: uppercase;
  border: none !important;
  font-weight: $bodyFontBoldWeight !important;
  position: relative;
  top: 0 !important;
  display: inline-block !important;
  background: $buttonBg;
  @include font-body();
  //font-family: $bodyFont !important;
  color: $buttonTxt !important;
  font-size: rem(13px) !important;
  padding: 0 30px !important;
  position: relative;
  top: -1px;
  transition: all 150ms linear !important;
}
.shopify-payment-button__button--unbranded {
  background: $buttonBg !important;
  color: $buttonTxt !important;
}
.shopify-payment-button__button--unbranded:hover {
  background: $bodyAcc !important;
  color: $bodyAccTxt !important;
  border-color: transparent !important;
}
.shopify-payment-button__button[disabled] {
  pointer-events: none;
  opacity: .4 !important;
  display: none !important;
}
.shopify-payment-button__button--branded {
  padding: 0 !important;
  border: none !important;
  svg {
    width: 80px;
  }
}
.shopify-payment-button .shopify-cleanslate div[role="button"] {
  height: 55px !important;
  max-height: 55px !important;
  padding: 0 30px !important;
}
.shopify-payment-button__more-options {
  font-size: rem(13px) !important;
  margin-top: 14px !important;
}

/* Updated classic style */

.product-variants-holder {

  display: flex;
  flex-flow: row wrap;
  justify-content: stretch;
  width: calc(100% + 24px);
  margin-left: -12px;
  margin-top: 12px;

  .product-variant {
    min-width: 150px;
    flex: auto;
    margin: 26px 12px 0 !important;
  }

  .product--add-to-cart-form.style--minimal & {
    margin-top: 24px;
    margin-bottom: 8px;
    .product-variant {
      width: 100%;
      margin-top: 14px !important;
    }
  }

}
.product--add-to-cart-form {

  &.style--classic {
    label {
      text-transform: none;
      font-size: rem(16px);
      opacity: .62;
      text-align: left;
      margin-top: -9px;
    }
  }

  .regular-select-cover {
    background: transparent;
    border: 1px solid rgba($textMain, .12);
    font-size: rem(15px);
    svg {
      top: 23px;
      right: 22px;
    }
  }
  .regular-select-inner {
    opacity: 1;
    padding: 20px 60px 0px 25px;
  }

  .quantity-selector {
    background: transparent !important;
    border-color: rgba($textMain, .12) !important;
    font-size: rem(15px) !important;
    line-height: 1;
  }

  button[type="submit"].button {
    font-size: rem(13px) !important;
    padding: 0 30px !important;
    margin-top: 26px !important;
    height: 55px !important;
    line-height: 53px !important;
  }

}
.cart-out input[type="submit"] {
  top: -2px;
}

#site-cart .cart-item .thumbnail {
  flex: 0 0 90px;
}
.cart-item .thumbnail {
  flex: 0 0 120px;
}

/* search form fix */

#search-results .next-page.hidden {
  display: block !important;
  opacity: 0;
  visibility: visible;
}
#site-search .preloader {
  span {
    width: 3px;
    height: 3px;
    margin: 0 1px;
  }
  p {
    opacity: .62;
    float: left;
    margin-top: -13px;
    margin-right: 5px;
    font-size: 14px;
  }
}


.site-payment {
  flex-direction: row;
  display: flex;
  flex-wrap: wrap;
  justify-content: flex-start;
  align-items: center;
}
.site-payment svg.payment-icon {
  width: 45px;
  height: 30px;
  margin: 1px 2px;
}

#product-zoomed-image {
  background: $bodyBg;
}
@include at-query($max, $lap) {
  .mount-images .box__image-text:nth-child(3):last-child {
    width: 100%;
  }
}

.site-footer .info.smaller {
  font-size: rem(24px);
  @include at-query($max, $palm) {
    font-size: rem(18px);
  }
}

.site-footer-size--sm .box__footer {
  min-height: 50vh !important;
}

.order-table .note {
  @include font-body();
  font-size: rem(13px);
  opacity: .66;
}

@include at-query($min, $lap+1) {
  .template-collection.odd-screen-height #section-collection {
    .site-box.box__heading.box--big:not(.fix-me-with-height-hard) {
      min-height: calc(100vh + 1px) !important;
    }
    .box--small {
      height: calc(50vh + .5px) !important;
    }
  }
}

.site-box.box__slideshow-split .slideshow-item .site-box-background-container > div,
  .site-box.box__slideshow-split .slideshow-item .site-box-content > *, .site-box.box__heading .site-box-content, .site-box .site-box-background.with-image:after { 
  will-change: transform; 
}

.site-box-background.with-image.light:after {
  background: #fff;
}

/*============================================================================

  Version 2.0.0 [start]

==============================================================================*/

// One article layout

@include at-query($min, $lap+1) {
  .site-box.box__blog .blog-item.just-one-article {
    height: 100vh;
  }
}

// New box layout

.box__custom {
  min-height: 50vh !important;
  height: auto !important;
  padding: 50px;
}

// Removing right borders on mobile devices

@include at-query($min, $palm) {
  #section-related-products .box__collection:nth-child(odd) {
    border-right: none !important;
  }
}
@include at-query($max, $palm) {
  #section-related-products .box__collection:nth-child(even) {
    border-right: none !important;
  }
  #section-related-products .box__heading {
    border-right: 1px solid $bodyBgThird !important;
  }
}
@include at-query($max, $lap) { 
  .box__product-gallery, .box__announcement, .box__heading, .box__blog, .mount-testimonials .site-box:nth-child(even), .mount-testimonials .site-box:nth-child(even), .mount-testimonials .site-box:last-child, .box__text, .box__newsletter, .per-4 .site-box.box__collection .product-item:nth-child(even), .collection__holder .site-box:nth-child(2n+0) {
    border-right: none !important;
  }
}

.collection__holder.odd {
  .site-box:nth-child(4n+0) {
    border-right: none !important;
  }
}
.collection__holder:not(.odd) {
  .site-box:nth-child(2), .site-box:nth-child(4), .site-box:nth-child(4n+4) {
    border-right: none !important;
  }
}

// Hiding gallery images count & flickity interactions (when there is one)

.box__product-gallery[data-images="1"] {
  .gallery-index {
    display: none;
  }
  .flickity-viewport {
    pointer-events: none;
  }
}

.box__slideshow-split .responsive-nonflickity {
  height: 100% !important;
}


@media screen and (min-width: $portable+1) and (orientation: landscape) {
  .box__slideshow-split.one-image {
    height: auto !important;
  }
}
.box__slideshow-split .responsive-nonflickity + .slider-meta {
  display: none !important;
  height: 0;
}
.site-box.box__slideshow-split .slideshow-item .site-box-background-container > div {
  height: 100vh;
}

// Styling for the Shopify Product Reviews App

#shopify-product-reviews {

  margin: 0 !important;
  overflow: visible !important;
  z-index: 10;

  .spr-container {
    border: 0;
    padding: 0;
    @extend .site-box-container;
  }

  .spr-header, .spr-content {
    @extend .site;
    @extend .site-box;
    @extend .box--big;
    @extend .lap--box--small-fl;
    @extend .box--typo-big;
    @extend .box--center-align;
    @extend .box--column-flow;
    @include at-query($max, $lap) { 
      border-right: none !important;
    }
  }

  .spr-header {
    @extend .box__heading;
    padding: 0 12.5%;
    @include at-query($min, $lap+1) {
      position: -webkit-sticky;
      position: sticky;
      top: 0;
    }
    align-items: flex-start;
  }

  .spr-header-title {
    @extend .title;
  }

  .spr-summary {
    margin-top: 70px;
    width: 100%;
    position: relative;
    @include at-query($max, $lap) {
      width: auto;
      text-align: left;
    }
  }
  .spr-summary-starrating {
    margin-right: 24px;
  }
  .spr-summary-caption {
    display: inline-block;
  }
  .spr-summary-actions {
    display: block;
  }

  .spr-summary-actions-newreview {
    @extend .button;
    float: none;
  }

  .spr-content {
    padding: 100px 0;
    border-right: none !important;
    @include at-query($max, $lap) { 
      min-height: 50vh !important;
      height: auto !important;
    }
  }
  .spr-reviews, .spr-form {
    width: 70%;
    margin: auto;
    max-width: 800px;
  }
  .spr-review, .spr-form {
    border: none;
  }

  .spr-review-header {
    position: relative;
  }
  .spr-review-header-starratings {
    position: absolute;
    top: 4px;
  }
  .spr-review-header-title {
    font-size: rem(21px);
    line-height: 1.55;
    padding-right: 120px;
  }
  .spr-review-content-body {
    font-sizez: rem(15px);
    line-height: 1.7;
  }
  .spr-review-header-byline {
    opacity: .66;
    font-size: rem(12px);
    margin: 0;
    padding-top: 0;
    font-style: normal;
    strong {
      font-weight: 400;
    }
  }

  .spr-review-content {
    margin-top: 24px;
  }

  .spr-form-title {
    margin-bottom: 40px;
    &:after {
      content: "";
      display: block;
      margin-top: 40px;
      width: 40px;
      height: 3px;
      background: $textMain;
    }
  }
  .spr-form-label {
    display: none;
  }
  .spr-form-contact {
    width: calc(100% + 30px);
    margin-left: -15px;
    div {
      width: 50%;
      padding: 0 15px;
      display: inline-block;
    }
  }
  .spr-form-review-rating {
    .spr-form-label {
      display: inline-block;
      font-size: rem(15px);
      line-height: 1;
    }
    .spr-form-input {    
      display: inline-block;
      position: relative;
      top: 3px;
      margin-left: 10px;
    }
  }
  .spr-form-contact-name, .spr-form-contact-email, .spr-form-contact-location, .spr-form-review-rating, .spr-form-review-title, .spr-form-review-body {
    margin-bottom: 30px;
  }

}

#shopify-product-reviews .spr-summary-caption {
  display: none;
}
#shopify-product-reviews .spr-summary-starrating + .spr-summary-caption {
  left: 50px;
  display: inline-block;
  position: relative;
  font-size: 14px;
}
.spr-summary-starrating.spr-starrating, #shopify-product-reviews .spr-review-header-starratings {

  display: flex;
  overflow: hidden;
  position: absolute;
  clip-path: inset(0 0 calc(100% - 30px) 0);
  -webkit-clip-path: inset(0 0 calc(100% - 30px) 0);
  flex-direction: column-reverse;
  width: 44px;
  pointer-events: none;

  &:after {    
    content: "/ 5";
    position: absolute;
    top: 1px;
    right: 0;
    font-size: 14px;
  }
  
  .spr-icon {
    width: 0 !important;
    height: 0 !important;
    &:before {
      display: none !important;
    }
    &.spr-icon-star, &.spr-icon-star-half-alt {
      width: 20px !important;
      height: 30px !important;
    }
  }
  .spr-icon-star:after, .spr-icon-star-half-alt:after {
    content: "1";
    font-size: 14px;
    width: 20px;
    display: block;
    text-align: right;
  } 
  .spr-icon-star + .spr-icon-star-half-alt:after {
    content: "1.5";
  }
  .spr-icon-star + .spr-icon-star:after {
    content: "2";
  }
  .spr-icon-star + .spr-icon-star + .spr-icon-star-half-alt:after {
    content: "2.5";
  }
  .spr-icon-star + .spr-icon-star + .spr-icon-star:after {
    content: "3";
  }
  .spr-icon-star + .spr-icon-star + .spr-icon-star + .spr-icon-star-half-alt:after {
    content: "3.5";
  }
  .spr-icon-star + .spr-icon-star + .spr-icon-star + .spr-icon-star:after {
    content: "4";
  }
  .spr-icon-star + .spr-icon-star + .spr-icon-star + .spr-icon-star + .spr-icon-star-half-alt:after {
    content: "4.5";
  }
  .spr-icon-star + .spr-icon-star + .spr-icon-star + .spr-icon-star + .spr-icon-star:after {
    content: "5";
  }

}

.spr-form[style="display: none"] + .spr-reviews[style="display: none"], .spr-form[style="display: none;"] + .spr-reviews[style="display: none"] {
  display: block !important;
  &:after {
    width: 300px;
    display: block;
  }
}

.spr-summary-actions-togglereviews {
  position: relative;
  padding-left: 25px;
  &:before {
    font-size: 19px;
    content: "\2605";
    font-family: Arial;
    display: inline-block;
    position: absolute;
    left: 0;
    top: -8px;
  }
}
.spr-review-header {
  .spr-review-header-title {
    position: relative;
    &:after {
      font-size: 19px;
      content: "\2605";
      font-family: Arial;
      display: inline-block;
      position: absolute;
      right: 0px;
      top: 1px;
    }
  }
  .spr-starratings {
    right: 25px;
  }
}

@media screen and (min-width: 769px) and (orientation: landscape) {
  .spr-header {
    border-top: 1px solid $bodyBgThird;
    margin-top: -2px;
  }
}

// Product video

.box--product-image {

  .video-overlay {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    visibility: hidden;
    transition: all 200ms linear;
    &:before {
      content: "";
      position: absolute;
      width: 100%;
      height: 100%;
      background: #fff;
      opacity: .3;
    }
  }

  img.lazyloaded + .video-overlay {
    opacity: 1;
    visibility: visible;
  }

  .video-lightbox {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate3d(-50%, -50%, 0);
    span {
      display: block;
      transform: scale3d(2, 2, 1);
    }
    svg * {
      fill: $textMain;
    }
    &:hover svg * {
      fill: $bodyAcc;
    }
  }

}

// Home (new) video background section

.box__video-background {
  width: 100%;
  height: calc(100vw * 9 / 16 - 10px) !important;
  min-height: 0 !important;
  @include at-query($max, $lap) {
    height: 50vh !important;
    .site-box-video-background {
      display: none !important;
    }
  }
}
.site-box-video-background {
  position: absolute;
  top: -1px;
  left: -2px;
  width: calc(100% + 4px);
  height: calc(100% + 2px);
  overflow: hidden;
  padding-bottom: 56.25%;
  pointer-events: none;
  iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
  }
}

// Collection lookbook template & Product gallery

.box__heading.box--special {
  height: auto !important;
  min-height: 50vh !important;
  .site-box-content {
    align-self: center !important;
    padding: 0 !important;
    &:after {
      margin-left: auto;
      margin-right: auto;
    }
  }
}

#collection-gallery-split {
  position: relative;
  .site-box-background:after {
    display: none;
  }
  .site-box {
    border: none;
  }
}

#product-gallery-split {
  z-index: 10;
  position: relative;
  top: -1px;
  .site-box-background:after {
    display: none;
  }
  .site-box {
    border: none !important;
  }
}

@include at-query($max, $lap) {
  #collection-gallery-split, #product-gallery-split {
    .site-box {
      min-height: 0;
    }
    .lap--box--portrait-small {
      height: 40vh;
    }
    .lap--box--portrait-large {
      height: 75vh;
    }
    .lap--box--landscape {
      height: 45vh;
    }
  }
}

// Sales page banner
#shopify-section-landing_banner, #shopify-section-landing_content {
  @extend .clearfix;
}

.box__landing-banner {

  width: 100%;
  padding: 10vh 0;
  min-height: 60vh;
  pointer-events: none;
  
  .details {
    margin-top: 45px;
    margin-bottom: 0;
  }
  .site-box-background.with-image:after {
    opacity: .4;
  }

  .countdown {

    position: absolute;
    bottom: 0;
    right: 0;
    padding: 20px 25px;

    .time {
      text-align: right;
      display: inline-block;
      width: 160px;
      font-size: rem(17px);
      position: relative;
      @include font-head();
      span:not(.separator) {
        display: inline-block;
        width: 40px;
      }
      span.separator {
        position: absolute;
        margin-left: 7px;
      }
      
    }

  }

}

.landing-page-content {
  .box__announcement {
    min-height: 50vh !important;
    height: auto !important;
    padding: 10vh;
    @include at-query($max, 640px){
      padding: 30px; 
    }
    .rte {
      text-align: center;
      margin-top: 20px;
      a {
        display: inline;
        height: auto;
        align-items: normal
      }
      p:last-child {
        margin-bottom: 0;
      }
    }
  }
}

// New announcements banner

.mount-banner {

  position: fixed;
  z-index: 9999;
  transition: all 150ms linear;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  
  visibility: hidden;
  transform: translateY(20px);
  opacity: 0;

  &.active {
    visibility: visible;
    transform: translateY(0);
    opacity: 1;
  }

}
.box__banner {

  z-index: 9999;
  text-align: center;
  pointer-events: all;

  &.style--bar {
    width: 100%;
    padding: 8px 14px;
    font-size: rem(12px);
    overflow: hidden;
    position: absolute;
    height: 34px;
    top: -34px;
    left: 0;
    p {
      display: inline;
      margin: 0 5px 0 0;
    }
  }

  &.style--box {

    width: 50%;
    max-width: 490px;
    height: auto;
    font-size: rem(18px);
    bottom: 30px;
    right: 30px;
    padding: 50px;
    position: fixed;

    @include at-query($max, $lap) {
      width: 40%;
      font-size: rem(14px);
      bottom: 10px;
      right: 10px;
      padding: 30px;
    }

    @include at-query($max, $palm) {
      width: calc(100% - 20px);
      text-align: left;
      padding: 15px 50px 20px 20px;
    }

    p:last-child {
      margin-bottom: 0;
    }

    .close {
      height: 54px;
      width: 54px;
    }

  }

  a {
    color: $bodyAcc;
    border-bottom: 1px dotted;
  }

  .close {
    position: absolute;
    top: 0;
    right: 0;
    z-index: 99;
    cursor: pointer;
  }

}
a.box__banner {
  display: block;
  position: relative;
  &:after {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: #000;
    content: "";
    z-index: 0;
    opacity: 0;
    transition: all 100ms linear;
  }
  &:hover:after {
    opacity: .1;
  }
  .content {
    z-index: 1;
    position: relative;
  }
}

// More Tweaks

.product-item.style--one .box- -product-image {
  height: calc(100% - 100px);
}

.shopify-challenge__container {
  margin: 150px auto !important;
}
#challenge {
  #shopify-section-footer, #shopify-section-header {
    display: none !important;
  }
}

.template-index {
  .main-content .shopify-section {
    position: relative;
    z-index: 9;
  }
  #shopify-section-home_slideshow {
    z-index: 8;
  }
}

#shopify-section-product-recommendations {
  @extend .site-box-container;
  @extend .container--fullscreen;
}

.template-cart .box__cart {
  border-left: none;
  border-right: none;
}

.cart-item .content small.discount {
  //opacity: 1;
}

.shopify-payment-button__button--branded .shopify-cleanslate {
  height: 55px !important;
}

.cart-item .title span {
  font-weight: 400;
  font-size: rem(12px);
}
.cart-item .price {

  display: table !important;

  > div {
    display: table-row;
    * {
      display: table-cell;
    }
  }

  strong {
    font-weight: 600;
    padding-right: 20px;
  }

}

.site-nav-container .cart-item {

  padding-right: 40px;

  .title {
    line-height: 1.4;
  }
  small {
    font-size: rem(10px);
  }

  .price {

    strong {
      font-weight: 400;
      padding-right: 10px;
    }
    del {
      opacity: .66;
    }

    .conditional-qty {
      display: none;
      &.qty-1 {
        display: table-row;
      }
    }

  }

  .remove {
    position: absolute;
    right: -5px;
    width: 20px;
    height: 25px;
    overflow: hidden;
    cursor: pointer;
    svg {
      position: absolute;
      top: -9px;
      right: -12px;
      transition: all 100ms linear;
    }
    &:hover {
      transform: scale(1.1);
    }
  }

  &.remove-process {
    opacity: .3;
    pointer-events: none;
  }

}

#CartDiscounts span:not(:last-child) {
  &:after {
    content: " / ";
  }
}
#CartSubTotal {
  margin-bottom: 0;
}
#CartSubTotal, #CartDiscounts {
  span {
    font-size: rem(15px);
  }
}

.box__collection-footer {

  height: calc(100vw * 9 / 16) !important;
  min-height: 0 !important;
  @include at-query($max, $lap) {
    height: auto !important;
    min-height: 50vh !important;
    padding: 8vh 0;
    .site-box-video-background {
      display: none !important;
    }
  }

  .caption {
    margin-top: 45px;
    margin-bottom: 0 !important;
    @include at-query($max, $lap) {
      margin-top: 25px;
    }
  }  

}

@include at-query($max, $lap) {
  .title.add-hr:after {
    width: 50px !important;
    height: 3px;
    margin-top: 30px !important;
  }
}

.add-border-top {
  border-top: 1px solid $bodyBgThird;
  margin-top: -1px;
  &:hover .site-box-content:after {
    background: $bodyAcc !important;
  }
}
.box__next-collection {
  text-align: center;
  height: 50vh !important;
  .caption {
    margin: 0 0 40px !important;
  }
  .site-box-content:after {
    margin-left: auto;
    margin-right: auto;
    transition: background 150ms linear;
  }
}

.show-lazy-preloader:before {
  width: 20px;
  height: 20px;
  content: "";
  border: 1px solid $bodyBgThird;
  border-top: 2px solid $bodyAcc;
  border-radius: 100%;
  position: absolute;
  top:0;
  bottom:0;
  left:0;
  right: 0;
  margin: auto;
  pointer-events: none;
  animation: lazy-spin 1s infinite linear;
}
.box--product-image.secondary:before, .no-lazy-preloader:before {
  display: none !important;
}
@keyframes lazy-spin {
  from {
    transform: rotate(0deg);
  } to {
    transform: rotate(360deg);
  }
}

/*=================================================================
  Version 2.0.0 [end]
==============================================================*/

/*=======
  2.0.1 [ FIXES ]
=====*/

.site-box-video-background {
  padding-bottom: 56.25%;
}
.shopify-section.lift-related-up + #shopify-section-product-recommendations {
  margin-top: -1px;
}
#shopify-section-product_footer {
  position: relative;
  top: -1px;
}
#section-related-products .box__heading, #section-product_footer, #product-gallery-split {
  border-bottom: 0;
}
.box__blog {
  border-right: none !important;
}
.box__collection-footer .site-box-background:after {
    opacity: .4 !important;
}
.shopify-payment-button__button--branded {
  height: 55px !important;
}

#shopify-section-product_footer, #shopify-section-collection_footer {

  .box__image-text {
    .site-box-background {
      transform: none !important;
    }
    .title.add-hr:after {
      width: 60px !important;
    }
  }
  .box__image-text[href]:hover {
    .site-box-background {
      transform: scale(1.025) !important;
    }
    .title.add-hr:after {
      width: 100px !important;
    }
  }

  .site-box-background.solid-bg:after {
    opacity: 1 !important;
  }
  
  .site-box-content {
    padding: 0 12%;
  }
  .align--left .site-box-content .content,
  .align--right .site-box-content .content {
    width: 50%;
    max-width: 600px;
    min-width: 320px;
  }
  .align--right .site-box-content {
    align-items: flex-end;
  }

}
.box__heading.box--special {
  padding: 10vh 0;
}
#section-collection + a {
  display: block;
}
.mount-banner {
  position: fixed !important;
  z-index: 9999 !important;
}
.template-page-landing {
  @include at-query($min, $lap+1) {
    .collection__holder .site-box:nth-child(even):not(:nth-child(4n)) {
      border-right: 1px solid $bodyBgThird !important;
    }
  }
  .mount-products + div {
    border-top: 1px solid $bodyBgThird;
    margin-top: -1px;
  }
  .mount-content-row .site-box {
    border-right: none;
  }
}
.collection__holder.odd .box__heading:first-child {
  border-right: 1px solid $bodyBgThird !important;
}
.template-index {
  .box__announcement, .mount-products .per-4 .box__collection, .box__newsletter, .box__text {
    border-right: none !important;
  }
}
.mount-testimonials:after {
  position: absolute;
  content: "";
  background: $bodyBg;
  top: 0;
  right: 0;
  width: 1px;
  height: calc(100% - 1px);
}
.mount-testimonials:nth-child(2n+1):after {
  background: $bodyBgSecond;
}

/*=======
  2.0.2 [ FIXES ]
=====*/

#shopify-section-product_footer {
  z-index: 99;
}
.site-box-video-background video {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

@media screen and (max-width: 768px), screen and (max-width: 1024px) and (orientation: portrait) {
  .template-page #section-page .site-box[data-order="1"] .site-box-content {
    margin-top: 0 !important;
  }
}

// Additional checkout buttons tweaks

#site-cart .cart-actions {
  display: flex;
  flex-wrap: wrap;
  input, button {
    width: calc(50% - 5px);
    height: 54px;
    border: 0;
    top: 0;
  }
  .additional-checkout-buttons {
    width: 100%;
  }
}

.template-cart {
  .cart-out small {
    display: block;
  }
  .cart-actions {
    display: inline-block;
  }
  .additional-checkout-buttons {
    margin-top: 5px;
  }
  .cart-out input[type="submit"].wide-button {
    min-width: 230px;
  }
}

// Currency selector

.currency-selector {
  margin: 0 5px;
  &:not(.styled) {
    opacity: 0;
  }
  @media screen and (max-width: 1024px){
    margin-top: -1px;
    margin-right: 0;
    svg, .minimal-select-inner {
      opacity: 1 !important;
    }
  }
  @media screen and (max-width: 419px){
    display: none;
  }
  .desktop-view--minimal & {
    svg, .minimal-select-inner {
      opacity: 1;
    }
  }
}
.minimal-select-cover {

  width: 100% !important;
  height: 30px;
  font-size: 13px;
  line-height: 13px;
  cursor: pointer;
  position: relative;
  margin-top: 7px;

  svg {
    position: absolute;
    top: 11px;
    right: 5px;
    width: 9px !important;
    opacity: .52;
    transition: all 150ms linear;
    polygon {
      fill: $textMain;
    }
  }

  select {
    height: 100% !important;
    width: 100%;
    cursor: pointer;
    -webkit-appearance: menulist-button;
  }

  option {
    padding: 2px 0;
  }

  &:hover {
    svg {
      top: 12px;
    }
    svg, .minimal-select-inner {
      opacity: 1;
    }
  }

}
.minimal-select-inner {
  height: 30px;
  padding: 9px 25px 0 5px;
  cursor: pointer;
  opacity: .66;
  cursor: pointer;
  font-weight: 600;
  transition: all 150ms linear;
}

// v2.0.8 --- Safari v13 fix for select boxes crashing site

.regular-select-cover,
.simple-select-cover {
  select {
    -webkit-appearance: revert !important;
    opacity: 0 !important;
    pointer-events: none;
  }
  .regular-select-inner {
    pointer-events: none;
  }
}
.minimal-select-cover {
  margin-top: 16px;
  height: 20px;
  .minimal-select-inner {
    height: 20px;
    padding-top: 0;
  }
  select {
    opacity: 0;
    -webkit-appearance: revert !important;
  }
  svg {
    top: 2px;
  }
  &:hover svg {
    top: 3px;
  }
}
.product-variants-holder, #site-filters .option, #site-filters .option-children {
  position: relative;
}
.regular-select-content {
  width: calc(100% + 4px);
  display: block;
  background: $bodyBg;
  border: 2px solid;
  border-color: transparent;
  position: absolute;
  top: 53px;
  left: -2px;
  z-index: 999;
  border-top: none;
  overflow-y: auto;
  height: 0;
  z-index: 99;
  .content-opened & {
    height: auto;
    border-color: $bodyBgThird;
    top: 52px;
  }
  .product-variants-holder &.content-opened {
    outline: 1px solid $bodyBgThird;
  }
  .product-variants-holder & {
    border-width: 1px;
    width: calc(100% + 2px);
    left: -1px;
  }
  #site-filters .option & {
    width: 100%;
    left: 0;
    max-height: 202px;
  }
}
.regular-select-item {
  display: block;
  height: 40px;
  font-size: 13px;
  padding: 14px 25px 0;
  border-top: 1px solid $bodyBgThird;
  cursor: pointer;
  background: transparent;
  transition: 100ms background linear;
  &:hover {
    background: $bodyBgSecond;
  }
  &.selected {
    background: $bodyBgThird;
  }
  &.disabled {
    color: rgba($textMain, .16);
    pointer-events: none;
  }
  #site-filters .option &.selected {
    background: darken($bodyBgThird, 2%);
  }
}

// v2.0.9 --- Reviews improvements

#section-related-products .box__heading {
  @include at-query($max, $portable) {
    border-bottom: 1px solid $bodyBgThird;
    margin-top: 0;
    border-top: 0;
  }
}
.spr-review-reply {
  background: $bodyBgThird !important;
  margin: 0 0 24px 0 !important;
  padding: 16px 20px 8px !important;
}
.spr-review-reply-shop {
  font-size: 11px !important;
}
#shopify-product-reviews {
  position: relative;
  top: 1px;
}
.spr-form[style*="block"] + .spr-reviews {
  display: none;
}
.price-reviews {
  display: flex;
  justify-content: space-between;
}
.review {
  position: relative;
  overflow: hidden;
  .spr-badge {
    width: 80px;
  }
  .spr-badge-caption {
    display: none;
  }
  .spr-starrating {
    @extend .spr-summary-starrating.spr-starrating;
    right: 25px;
    top: 2px;
  }
  .spr-badge:after {
    font-size: 19px;
    content: "\2605";
    font-family: Arial;
    display: inline-block;
    position: absolute;
    right: 0;
    top: -2px;
  }
  .spr-badge[data-rating="0.0"] {
    display: none;
    &:after {
      display: none;
    }
  }
}
#product-gallery-split + #shopify-product-reviews {
  top: 1px;
  .spr-header {
    border-top: none !important;
  }
}
#product-gallery-split, #collection-gallery-split {
  .site-box-background {
    background: rgba($bodyBgThird, .3);
  } 
}

.style--one.alt .box--product-image {
  height: calc(100% - 100px);
}

.site-box.box__collection .product-item.style--one .spr-badge {
  right: 33px;
}
.site-box.box__collection.box--typo-small .product-item.style--one .spr-badge {
  right: 23px;
}

.product-item .spr-badge {

  display: block;
  position: absolute;
  width: 70px;
  top: 50px;
  
  .spr-starrating:after {
    font-size: 13px;
    letter-spacing: -1px;
  }
  .spr-icon.spr-icon-star:after, .spr-icon-star-half-alt:after {
    font-size: 13px !important;
    width: 27px !important;
  }

  &:after {
    font-size: 15px;
    content: "\2605";
    font-family: Arial;
    display: inline-block;
    position: absolute;
    right: 6px;
    top: -2px;
  }
  .spr-starrating {
    @extend .spr-summary-starrating.spr-starrating;
  }
  .spr-badge-caption {
    display: none;
  }
  &[data-rating="0.0"] {
    display: none;
  }
  &:not([data-rating="0.0"]) + span {
    display: none;
  }
  
}
@include at-query($max, $portable) {
  .product-item .caption.show-review {
    text-align: left !important;
    .spr-badge {
      right: 13px;
      left: auto;
      display: block;
      transform: none;
      opacity: 1;
    }
  }
}
@include at-query($max, $lap) {
  .spr-badge {
    right: 4px !important;
  }
}
.product-item.style--three {
  .spr-badge {
    left: 50%;
    transform: translateX(-50%);
    margin-top: 5px;
    opacity: 0;
    transition: all 100ms linear;
  }
  &:hover .spr-badge {
    opacity: 1;
    margin-top: 0;
    transition: all 120ms linear 170ms;
  }
}
.product-item.style--one.alt {
  .spr-badge {
    opacity: 0;
    transform: translateX(-5px);
    transition: all 250ms linear;
  }
  &:hover .spr-badge {
    opacity: 1;
    transform: translateX(0);
  }
}
.product-item.style--one.regular {
  .spr-badge {
    opacity: 0;
    transform: translateY(5px);
    transition: all 100ms linear;
  }
  &:hover .spr-badge {
    opacity: 1;
    transform: translateY(0);
    transition: all 100ms linear 170ms;
  }
}

.scrollable-content {
  overflow-x: scroll;
}

// sidebar cart buttons fix

#site-cart .cart-actions button {
  margin-top: 0 !important;
}
#site-cart .cart-actions {
  input, button {
    padding: 0 10px !important;
  }
}

.cart-continue {
  display: none;
  .button {
    width: 100%;
    text-align: center;
  }
}
#site-nav--mobile #site-cart {
  .cart-holder[data-items="0"] {
    display: none;
    + .cart-continue {
      display: block;
    }
  }
}

.box__product-content .price {
  display: flex;
  align-items: flex-start;
  @include at-query($max, $lap) {
    margin: auto;
    .unit-price {
      text-align: left;
    }
  }
}
.unit-price {
  display: block;
  opacity: .66;
  font-weight: $font-weight-body;
  font-size: rem(13px);
  .box__collection & {
    margin-top: 10px;
  }
  .cart &, .order-table & {
    font-size: rem(11px);
  }
  .order-table & {
    margin-top: -5px;
  }
}
.product-policies {
  margin-top: 12px;
  font-size: rem(13px);
  opacity: .66;
  font-style: italic;
  a {
    border-bottom: 1px dotted;
  }
}

.template- {

  div[class*="container"] {
    padding: 0;
    max-width: none;
    width: 100%;
    @extend .clearfix;
  }

  div[class*="title"] {
    
    @extend .site-box;
    @extend .box--big;
    @extend .lap--box--small-fl;
    @extend .box--column-flow;
    @extend .box--center-align;

    height: 100vh;
    position: sticky;
    -webkit-position: sticky;
    top: 0;
    border-right: 1px solid $bodyBgThird;

    @include at-query($max, $lap) {
      border-right: none;
      border-bottom: 1px solid $bodyBgThird;
    }
    @include at-query($max, $palm) {
      height: 40vh !important;
    }

    h1 {
  
      line-height: 1.1;
      width: 50%;
      margin-bottom: 0;

      &:after {
        content: "";
        display: block;
        width: 60px;
        height: 4px;
        margin-top: 70px;
        background: $textMain;
      }

      font-size: rem(70px) !important;
      font-size: 4vw !important;
      text-align: left;

      @include at-query($max, $portable) {
        font-size: rem(45px) !important;
        font-size: 4.5vw !important;
     }
      @include at-query($max, $lap) {
        font-size: rem(48px) !important;
        &:after {
          margin: 60px auto 0;
        }
        text-align: center;
        line-height: 1.2;
      }
      @include at-query($max, $palm) {
        font-size: rem(28px) !important;
        &:after {
          margin-top: 40px;
          width: 40px;
        }
      }

    }

  }

  div[class*="body"] {

    @extend .site-box;
    @extend .box--big;
    @extend .lap--box--small-fl;
    @extend .box--column-flow;
    @extend .box--center-align;

    align-items: flex-start !important;
    padding: 100px 5%;

    @include at-query($max, $lap) {
      height: auto !important;
      padding: 12% 10%;
    }

  }

}

.search-results.predictive-search {

  .search-item {

    margin-bottom: 25px !important;

    .title {
      width: 100%;
      margin-top: 0;
      line-height: 1.4;
    }
    .caption {
      margin-top: 0;
    }
    .content {
      width: calc(100% - 135px) !important;
    }
    .vendor {
      display: block;
      + .price {
        display: block;
        margin-top: 8px;
        font-weight: $bodyFontBoldWeight;
      }
    }
    .thumbnail {
      width: 100px !important;
      height: 100px !important;
      background: $bodyBgSecond;
      position: relative;
      img {
        transition: opacity 150ms linear, transform 250ms linear;
        opacity: 0;
        &.lazyloaded {
          opacity: 1;
        }
      }
    }

    &.article {
      margin-bottom: 28px;
      .content {
        width: 100% !important;
        margin-left: 0 !important;
      }
      .caption {
        margin-top: 8px !important;
      }
    }

    &.blank {

      .content {
        margin-top: -3px;
      }
      .title, .caption {
        width: 100%;
        background: $bodyBgSecond;
        height: 20px;
        position: relative;
        overflow: hidden;
      }
      .caption {
        width: 60%;
        margin-top: 10px;
      }
      .thumbnail, .title, .caption {
        &:after {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: #000;
          opacity: .05;
          content: "";
          animation: fill-progress 2s infinite;
        }
      }

    }

    .unit-price {
      margin-top: -3px;
      font-size: rem(11px);
    }
    .price .st {
      opacity: .66; 
      text-decoration: line-through; 
      padding-left: 5px; 
      font-weight: normal;
    }

  }
  
  .search-title {

    display: block;
    margin-top: 38px;
    margin-bottom: 15px;
    font-size: rem(11px);
    text-transform: uppercase;
    opacity: .36;
    position: relative;
    line-height: 1;
    overflow: hidden;
    &:after {
      content: "";
      border-top: 1px solid;
      width: 100%;
      position: absolute;
      opacity: .36;
      bottom: 2px;
      margin-left: 10px;
    }

    + .search-item {
      margin-top: 28px;
    } 
    #section-search & {
      margin-top: 38px;
    }

  }

  .search-more {
    word-break: break-all;
    margin-top: 18px;
  }

  .pagination {
    margin-top: 50px;
    + .search-title {
      margin-top: 50px;
    }
  }

}

#site-search .search-results.false-predictive .search-item--product:nth-of-type(n+5) {
  display: none;
}

@keyframes fill-progress {
  0% {
    width: 0;
    left: 0;
  }
  50% {
    left: 0;
    width: 100%;
  }
  100% {
    left: 100%;
    width: 0;
  }
}

// bug fix for long variants
@media all and (max-width: 947px) {
  .regular-select-cover select { pointer-events: all !important; } 
  .regular-select-content { display: none !important; } 
}

// New social sharing

.site-sharing {

  display: flex;
  align-items: center;
  margin-top: 46px;

  a {

    width: 44px;
    height: 44px;
    position: relative;
    text-decoration: none;
    border: none;
    padding: 10px;
    &:first-child {
      margin-left: 12px;
    }

    svg path {
      fill: $textMain;
    }

    .no-touchevents &:hover, &.hover {
      svg path {
        fill: $bodyAcc;
      }
    }

  }

}


// * Product Media Update - v2.2.0 * //

@mixin absolute-fill() {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
}

.gallery-item {

  display: flex;
  align-items: center;
  overflow: hidden;
  &.tab-hidden:not(.is-selected) {
    display: none;
  }

  video, iframe, .shopify-model-viewer-ui__controls-overlay {
    opacity: 0;
  }
  video:not(.loaded) {
    position: absolute;
  }

  .plyr {
    @include absolute-fill();
    opacity: 0;
    transition: opacity 150ms linear;
    &.lazyloaded {
      opacity: 1; 
      video, model-viewer {
        opacity: 1;
      }
    }
    &:focus {
      outline: none !important;
    }
  }

  .plyr:not(.reset-transitions) * {
    animation: none !important;
    transition: none !important;
  }

  .box--product-media {
    position: relative;
    width: 100%;
    height: 0;
  }

  .box--product-media[data-ratio] iframe {
    @include absolute-fill();
    padding: 0 !important;
    opacity: 0;
    transition: opacity 150ms linear;
  }
  .box--product-media[data-ratio].lazyloaded iframe {
    opacity: 1;
  }

  .shopify-model-viewer-ui, model-viewer {
    @include absolute-fill();
  }
  .shopify-model-viewer-ui.lazyloaded .shopify-model-viewer-ui__controls-overlay {
    opacity: 1;
  }

}

.product__view-in-space {

  @include font-body();
  font-size: rem(12px);
  background-color: rgba($textMain, 0.08);
  border: none;
  width: 100%;
  min-height: 44px;
  padding-top: 10px;
  padding-bottom: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: $textMain;

  &[data-shopify-xr-hidden] {
    display: none;
  }

  &:hover,
  &:focus {
    .product__view-in-space-text {
      border-bottom-color: $textMain;
    }
  }

  svg.icon {
    height: 2em;
    width: 2em;
    margin-right: .2em;
    fill: transparent;
    .icon-3d-badge-full-color-outline {
      stroke: none;
    }
    .icon-3d-badge-full-color-element {
      fill: $textMain;
      opacity: 1;
    }
  }

}

.product__view-in-space-text {
  border-bottom: 1px solid transparent;
}

// Plyr video controls

.plyr.plyr--full-ui.plyr--video {
  color: $textMain;
  background-color: transparent;

  .plyr__video-wrapper {
    background-color: transparent;
  }

  &:fullscreen .plyr__video-wrapper &:fullscreen .plyr__poster {
    background-color: #000;
  }

  &:-webkit-full-screen .plyr__video-wrapper,
  &:-webkit-full-screen .plyr__poster {
    background-color: #000;
  }

  &:-moz-full-screen .plyr__video-wrapper,
  &:-moz-full-screen .plyr__poster {
    background-color: #000;
  }

  &:-ms-fullscreen .plyr__video-wrapper,
  &:-ms-fullscreen .plyr__poster {
    background-color: #000;
  }

  .plyr--fullscreen-fallback .plyr__video-wrapper,
  .plyr--fullscreen-fallback .plyr__poster {
    background-color: #000;
  }

  .plyr__control.plyr__control--overlaid {
    background-color: $bodyBg;
    border-color: rgba($textMain, 0.05);

    &.plyr__tab-focus,
    &:hover {
      color: rgba($textMain, 0.55);
    }
  }

  .plyr__controls {
    background-color: $bodyBg;
    border-color: rgba($textMain, 0.05);
  }

  .plyr__progress {
    input[type='range'] {
      &::-moz-range-thumb {
        box-shadow: 2px 0 0 0 $bodyBg;
      }

      &::-ms-thumb {
        box-shadow: 2px 0 0 0 $bodyBg;
      }

      &::-webkit-slider-thumb {
        box-shadow: 2px 0 0 0 $bodyBg;
      }

      &::-webkit-slider-runnable-track {
        background-image: linear-gradient(
          to right,
          currentColor var(--value, 0),
          rgba($textMain, 0.6) var(--value, 0)
        );
      }

      &::-moz-range-track {
        background-color: rgba($textMain, 0.6);
      }

      &::-ms-fill-upper {
        background-color: rgba($textMain, 0.6);
      }

      &.plyr__tab-focus {
        &::-webkit-slider-runnable-track {
          box-shadow: 0 0 0 4px rgba($textMain, 0.25);
        }

        &::-moz-range-track {
          box-shadow: 0 0 0 4px rgba($textMain, 0.25);
        }

        &::-ms-track {
          box-shadow: 0 0 0 4px rgba($textMain, 0.25);
        }
      }

      &:active {
        &::-moz-range-thumb {
          box-shadow: 0 0 0 3px rgba($textMain, 0.25);
        }

        &::-ms-thumb {
          box-shadow: 0 0 0 3px rgba($textMain, 0.25);
        }

        &::-webkit-slider-thumb {
          box-shadow: 0 0 0 3px rgba($textMain, 0.25);
        }
      }
    }

    .plyr__tooltip {
      background-color: $textMain;
      color: $bodyBg;

      &::before {
        border-top-color: $textMain;
      }
    }
  }

  &.plyr--loading .plyr__progress__buffer {
    background-image: linear-gradient(
      -45deg,
      rgba($textMain, 0.6) 25%,
      transparent 25%,
      transparent 50%,
      rgba($textMain, 0.6) 50%,
      rgba($textMain, 0.6) 75%,
      transparent 75%,
      transparent
    );
  }

  .plyr__volume {
    input[type='range'] {
      color: $bodyBg;

      &::-moz-range-thumb {
        box-shadow: 2px 0 0 0 $textMain;
      }

      &::-ms-thumb {
        box-shadow: 2px 0 0 0 $textMain;
      }

      &::-webkit-slider-thumb {
        box-shadow: 2px 0 0 0 $textMain;
      }

      &::-webkit-slider-runnable-track {
        background-image: linear-gradient(
          to right,
          currentColor var(--value, 0),
          rgba($bodyBg, 0.6) var(--value, 0)
        );
      }

      &::-moz-range-track,
      &::-ms-fill-upper {
        background-color: rgba($bodyBg, 0.6);
      }

      &.plyr__tab-focus {
        &::-webkit-slider-runnable-track {
          box-shadow: 0 0 0 4px rgba($bodyBg, 0.25);
        }

        &::-moz-range-track {
          box-shadow: 0 0 0 4px rgba($bodyBg, 0.25);
        }

        &::-ms-track {
          box-shadow: 0 0 0 4px rgba($bodyBg, 0.25);
        }
      }

      &:active {
        &::-moz-range-thumb {
          box-shadow: 0 0 0 3px rgba($bodyBg, 0.25);
        }

        &::-ms-thumb {
          box-shadow: 0 0 0 3px rgba($bodyBg, 0.25);
        }

        &::-webkit-slider-thumb {
          box-shadow: 0 0 0 3px rgba($bodyBg, 0.25);
        }
      }
    }
  }
}

// Model viewer

.shopify-model-viewer-ui {
  .shopify-model-viewer-ui__controls-area {
    background: $bodyBg;
    border-color: rgba($textMain, 0.05);
  }

  .shopify-model-viewer-ui__button {
    color: $textMain;
  }

  .shopify-model-viewer-ui__button--control {
    &:hover {
      color: rgba($textMain, 0.55);
    }

    &:active,
    &.focus-visible:focus {
      color: rgba($textMain, 0.55);
      background: rgba($textMain, 0.05);
    }

    &:not(:last-child):after {
      border-color: rgba($textMain, 0.05);
    }
  }

  .shopify-model-viewer-ui__button--poster {
    background: $bodyBg;
    border-color: rgba($textMain, 0.05);

    &:hover,
    &:focus {
      color: rgba($textMain, 0.55);
    }
  }
}

.shopify-model-viewer-ui .shopify-model-viewer-ui__controls-area {
  flex-direction: row;
}
.shopify-model-viewer-ui .shopify-model-viewer-ui__button--control:not(:last-child):after {
  border-left: 1px solid rgba($textMain, 0.05);
  border-bottom: none;
  height: 28px;
  bottom: 0px;
  right: auto;
  top: 8px;
}

.box__product-gallery[data-images="0"] {

  .site-box-content, .gallery-item {
    height: 100% !important;
    width: 100%;
    position: absolute;
    top: 0;
    left: 0;
    padding: 0 !important;
  }

  @include at-query($max, $lap) {
    .site-box-content {
      height: 0 !important;
      padding-top: 100% !important;
      position: relative !important;
    }
  }

}

.box__slideshow-split .flickity-viewport {
  height: 100% !important;
}

// Language & currency selectors

.box__footer {

  overflow: visible;

  .localization-form {
    flex-wrap: wrap;
    display: flex;
    margin-bottom: -10px;
  }
  .localization-form__item {
    margin-bottom: 10px;
    display: flex;
    &:not(:last-child) {
      margin-right: 20px;
    }
  }
  
  .regular-select-cover {

    display: inline-block;
    position: relative;
    background: $textMain;
    color: $footerTxt;
    height: 45px;

    border: 2px solid rgba($footerTxt, .08);
    &:hover, &.content-opened {
      border-color: rgba($footerTxt, .16);
    }

    svg {
      top: 9px;
      right: 6px;
    }
    path {
      fill: rgba($footerTxt, .46);
    }

  }
 
  .regular-select-inner {
    height: 45px;
    color: $footerTxt;
    padding: 15px 60px 0 12px;
    display: block;
    font-size: rem(13px);
    line-height: 1;
    @include font-body();
  }

  .regular-select-content {
    list-style: none;
    background: $textMain;
    position: relative;
    overflow: hidden;
    top: -4px;
    border-color: rgba($footerTxt, .08);
    margin: 0;
    display: block !important;
  }
  .regular-select-cover:hover .regular-select-content,
  .regular-select-cover.content-opened .regular-select-content {
    border-color: rgba($footerTxt, .16);
  }
  .regular-select-cover.content-opened .regular-select-content {
    position: absolute;
    top: 41px;
  }
  .regular-select-cover.content-opened.invert .regular-select-content {
    top: auto;
    bottom: 41px;
    border-top: 2px solid rgba($footerTxt, .16);
  }

  .regular-select-item {

    height: auto;
    padding: 0;
    border-top: 0;
    .no-touchevents &:hover {
      background: lighten($textMain, 4%);
    }
    &.regular-select-item--selected {
      background: lighten($textMain, 8%);
    } 

    button {
      display: block;
      padding: 13px 12px 11px;
      color: $footerTxt;
      text-align: left;
      width: 100%;
      cursor: pointer;
      transition: all 150ms linear;
      font-size: rem(13px);
      line-height: 1;
      @include font-body();
    }

  }
  .regular-select-cover.content-opened:not(.invert) .regular-select-item:first-child {
    border-top: 2px solid rgba($footerTxt, .16);
  }

}


@include at-query($max, $lap) { 
  .price-reviews {
    flex-direction: column;
    > a.review {
      width: 80px;
      height: 30px;
      margin: auto;
      transform: scale(0.88);
      opacity: .92;
      left: -2px;
      top: 5px;
    }
  }
}

.simple-grid select {

  @include font-body();
  display: block;
  width: 100%;
  height: 55px;
  font-size: rem(15px);
  padding: 0 20px;
  margin: 0;
  display: inline-block;
  border-radius: 0;
  -webkit-appearance: none;
  border: 1px solid transparent;
  background-color: $bodyBgThird;
  background-image: url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 12 8' style='enable-background:new 0 0 12 8; width: 12px; height: 8px;' xml:space='preserve'%3E%3Cpolyline points='0,2 2,0 6,4 10,0 12,2 6,8 0,2 ' fill='%23000' /%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 20px top 50%;
  background-size: 12px 8px;
  color: $textMain;

  -webkit-appearance: none;
  -moz-appearance: none;
  -webkit-appearance: none;

  &::-ms-expand {
    display: none;
  }

  &:focus {
    outline: 2px solid darken($bodyBgThird, 5%);
  }

}

// v2.4.0

//.site-box.box__slideshow-split .slideshow-item .site-box-background { height: 100%; }

.template-page-story {

  .shopify-section[data-type="text"] {
    .site-box-container {
      display: flex;
      @include at-query($max, $lap) {
        flex-direction: column !important;
      }
    }
    .box__heading {
      height: auto !important;
      min-height: 66vh !important;
      max-height: 100vh;
      @include at-query($max, $lap) {
        height: 40vh !important;
        min-height: 0 !important;
      }
    }
    .box__text {
      min-height: 0 !important;
      .block-heading:after {
        display: none;
      }
    }
    & + .shopify-section[data-type="text"]:nth-child(odd) .site-box-container {
      flex-direction: row-reverse;
      .box__heading {
        border-right: 0 !important;
      }
      .box__text {
        border-right: 1px solid $bodyBgThird;
      }
    }
  }

  #shopify-section-story_content .box__image-text {
    width: 100%;
    height: 100%;
    padding: 5vh;
    .site-box-background.with-image {
      transform: none;
      &:after {
        opacity: .4;
      }
    }
  }

}

.template-page-lookbook {
  .box__heading {
    .site-box-content {
      text-align: center;
      &:after {
        margin-left: auto;
        margin-right: auto;
      }
    }
  }
}

.box__gallery .caption {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  background: linear-gradient(0deg, rgba(51, 51, 51, 0.3) 0%, rgba(51, 51, 51, 0.25) 20%, rgba(51, 51, 51, 0.2) 40%, rgba(51, 51, 51, 0.15) 60%, rgba(51, 51, 51, 0.1) 80%, rgba(51, 51, 51, 0.05) 90%, rgba(51, 51, 51, 0.02) 96%, rgba(51, 51, 51, 0) 100%);
  color: #fff;
  padding: 35px 15px 15px;
  line-height: 1;
  font-size: rem(13px);
  opacity: 0;
  transition: all 200ms linear;
}
.box__gallery img.lazyloaded + .caption {
  opacity: 1;
}

.box__shop-the-look {

  padding: 5vh 0;

  .title {
    font-size: rem(24px);
    margin-bottom: 34px;
    text-align: center;
    padding-right: 10%;
    a {
      transition: all 100ms linear !important;
    }
  }

  .site-box-content {
    width: 100%;
    height: 100%;
    padding-left: 10%;
  }
  
  .product-carousel {
    margin-left: 10%;
    .flickity-viewport {
      overflow: visible;
      transition: height 300ms linear;
    }
  }
  .product-carousel__item {
    width: 80%;
    background: $bodyBg;
    border: 1px solid $bodyBgThird;
    &:not(:last-child) {
      margin-right: 10%;
    }
    &[data-product-available="false"] {
      button[type="submit"] {
        display: none !important;
      }
    }
  } 
  .product-carousel__item-image {
    height: 0;
    width: 100%;
    img {
      position: absolute;
      top: 0;
      left: 0;
    }
  }
  .product-carousel__item-caption {

    padding: 20px 20px 10px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    > div:first-child {
      padding-right: 30px;
    }
  
    button[type="submit"] {

      width: 55px;
      margin: 0 -15px 0 !important;
      padding: 0 !important;
      text-align: center;
      display: flex;
      justify-content: center;
      align-items: center;
      background: transparent !important;
      position: relative;
      svg * {
        fill: $textMain !important;
        transition: all 100ms linear !important;
      }
      &:hover {
        svg * { 
          fill: $bodyAcc !important;
        }
      }

      &[style*="pointer-events: none"] {
        svg {
          display: none;
        }
        .preloader {
          opacity: 1;
          &:before {
            width: 20px;
            height: 20px;
            content: "";
            border: 1px solid $bodyBgThird;
            border-top: 2px solid $bodyAcc;
            border-radius: 100%;
            position: absolute;
            top:0;
            bottom:0;
            left:0;
            right: 0;
            margin: auto;
            pointer-events: none;
            animation: lazy-spin 1s infinite linear;
          }
        }
      }

    } 
    
  }

  .gallery-index {

    position: relative;
    height: auto;
    width: 100%;
    text-align: center;
    margin-top: 24px;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    transform: none !important;

    .current {
      position: static;
      background: none;
    }

    .flickity-custom-nav {
      position: static;
      transform: none;
      background: transparent;
      border: 0;
      margin: 0 10px;
    }

  }

  @include at-query($max, $portable) {
    .site-box-content {
      padding-left: 7.5%;
    }
    .product-carousel {
      margin-left: 7.5%;
    }
    .product-carousel__item {
      width: 85%;
      &:not(:last-child) {
        margin-right: 7.5%;
      }
    } 
  }

  @include at-query($max, $lap) {
    .site-box-content {
      padding-left: 5%;
    }
    .product-carousel {
      margin-left: 5%;
    }
    .product-carousel__item {
      width: 90%;
      &:not(:last-child) {
        margin-right: 5%;
      }
    } 
  }

}.site-copyright span:last-child, .powered { display: none; }